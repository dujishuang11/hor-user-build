<div class="logdetail-title"> <div layout="row"> <div flex="10"> <i class="icon-crop"></i> </div> <div flex="80" style="margin-left: -30px;"> <p class="f14 font-weight-600">{{$ctrl.buildInfo.message}}</p> <p class="f13" layout="row"> <span flex="20"> <span>状态：</span> <span statu="{{$ctrl.buildInfo.status}}" class="c-statu"> <i class="{{$ctrl.buildInfo.status}}"></i>{{$ctrl.buildInfo.status}} </span> </span> <span flex="80"> <span>分支/提交记录：</span> <span> {{$ctrl.buildInfo.branch}}&nbsp;/&nbsp;{{$ctrl.buildInfo.commit}} </span> </span> </p> </div> <div flex="20"> <md-button ui-sref="buildslist" class="btn btn-link">返回</md-button>&nbsp; <md-button ng-click="$ctrl.restart()" class="btn btn-success"><i class="icon-log"></i>&nbsp;重新构建</md-button> </div> </div> </div> <div class="build-step-line"></div> <div ng-repeat="item in $ctrl.buildInfo.procs" layout="row" layout-wrap> <div flex="100" layout="row" class="build-step"> <div ng-repeat="data in item.children" flex="20"> <a class="build-step-content" ng-click="$ctrl.buildStep(data.name)"> <div> <i class="icon-checkmark" ng-if="data.state=='success'"></i> <i class="icon-clock" ng-if="data.state=='pending'"></i> <i class="icon-refresh" ng-if="data.state=='running'"></i> <i class="icon-cancel" ng-if="data.state=='failure'"></i> <i class="icon-clock" ng-if="data.state=='skipped'"></i> </div> <span>{{data.name|I18N}}</span> <br> <span ng-if="data.end_time">{{data.end_time*1000 | relativeTime}}</span> </a> </div> </div> <div flex="100" class="build-step-html" ng-if="$ctrl.doneBuildLogs"> <p ng-repeat="value in $ctrl.keyArray"> <span>{{value.Pos}}</span>{{value.Out}} <span class="float-r">{{value.Time}}s</span> </p> <p class="no-label"> {{$ctrl.keyArray.exit_code}}</p> <p class="no-label" ng-if="$ctrl.keyArray == undefined"> exit code 0</p> </div> <div flex="100" class="build-step-html" ng-if="!$ctrl.doneBuildLogs"> <p ng-repeat="item in $ctrl.currentBuildLogs"> <span>{{item.pos}}</span>{{item.out}} <span class="float-r">{{item.time}}s</span> </p> <p class="no-label"> exit code 0</p> </div> </div>
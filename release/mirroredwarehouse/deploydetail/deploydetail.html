<md-card> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>镜像部署</h2> </div> </md-toolbar> <md-card ng-if="!$ctrl._yaml"> <md-table-container> <form ng-cloak name="instance_form" class="form-user"> <div class="detail-con"> <md-input-container md-no-float class="md-block"> <dl> <dt>服务名称<span style="color:red">* </span></dt> <dd> <input type="text" name="serviceName" ng-model="$ctrl.serviceName" required ng-maxlength="30" ng-minlength="3" ng-pattern="/^[0-9a-zA-Z\-\_]*$/"> <div class="error" ng-messages="instance_form.serviceName.$error"> <div ng-message="required">服务名称不能为空</div> <div ng-message="minlength">服务名称不得小于3个字符</div> <div ng-message="maxlength">服务名称不得超过30个字符</div> <div ng-message="pattern">服务名称由字母、数字、下划线或-组成</div> </div> </dd> </dl> </md-input-container> <md-input-container md-no-float class="md-block"> <dl> <dt>镜像地址</dt> <dd> <input type="text" name="imageURL" ng-model="$ctrl.imageURL" disabled="disabled"> </dd> </dl> </md-input-container> <md-input-container md-no-float class="md-block"> <dl> <dt>镜像版本<span style="color:red">* </span></dt> <dd> <md-select ng-model="$ctrl.tegEdition"> <md-option ng-value="item.name" ng-repeat="item in $ctrl._tagDetail"> {{item.name}} </md-option> </md-select> </dd> </dl> </md-input-container> <dl> <dt>容器配置</dt> <dd layout="row" layout-wrap> <div flex="20" class="btn-storage" ng-repeat="row in $ctrl.storageSpace" ng-class="row.state?'btn-storage-success':''" ng-click="$ctrl.storage(row)"> <div class="storage-title">{{row.title}}</div> <div class="storage-content"> <p>{{row.content}}</p> </div> </div> </dd> </dl> <md-input-container md-no-float class="md-block"> <dl> <dt>实例数量</dt> <dd> <input type="number" ng-model="$ctrl.instancesNum"> </dd> </dl> </md-input-container> <md-input-container md-no-float class="md-block"> <dl> <dt>标签<span style="color:red">* </span></dt> <dd> <input type="text" name="label" ng-model="$ctrl.label" required ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-\_\.]*$/"> <div class="error" ng-messages="instance_form.label.$error"> <div ng-message="required">标签不能为空</div> <div ng-message="maxlength">标签内容不得超过30个字符</div> <div ng-message="pattern">标签内容由字母、数字、下划线、-或.组成</div> </div> </dd> </dl> </md-input-container> </div> <md-button ng-click="$ctrl.createResource()" style="margin:20px 50px;" ng-disabled="instance_form.serviceName.$invalid || instance_form.label.$invalid" class="btn btn-success">下一步</md-button> </form> </md-table-container> </md-card> <md-card ng-if="$ctrl._yaml"> <section class="yamlr"> <div auto-heightr ui-ace="$ctrl.aceOption" ng-model="$ctrl.aceModel" style="margin-top:10px;"></div> </section> <div class="yaml-btn md-menu-item"> <md-button ng-click="$ctrl.lastStep()" class="btncancel btn-link" style="margin-right:20px;">上一步</md-button> <md-button ng-click="$ctrl.create()" class="btn btn-success" style="margin-right:20px;">创建</md-button> </div> </md-card> </md-card>
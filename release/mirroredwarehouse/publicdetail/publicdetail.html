<md-card> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2> <a ng-click="$ctrl.goToList()" class="">公有空间</a> /{{$ctrl._publicDetail.name | limitTo :40}} <span ng-if="$ctrl._publicDetail.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl._publicDetail.name.length > 40"> {{$ctrl._publicDetail.name}} </md-tooltip> <span class="create-btn" style="float:right;margin-right:20px;"> <md-button class="btn btn-success" ng-click="$ctrl.collection()"><i class="icon-star-line"></i> 收藏</md-button> </span> </h2> </div> </md-toolbar> <md-card> <md-table-container> <div> <div class="table-search"> <div class="table-search-input"> <div layout="row"> <span flex> <i class="icon-search"></i> <input type="text" placeholder="过滤镜像仓库" ng-model="$ctrl.repositoriesTerm" ng-change="$ctrl.applyRepositoriesFilter()" set-focus> </span> </div> </div> </div> <table ng-table="$ctrl.tableParamsRepositories" class="table-column-4"> <tr ng-repeat-start="item in $data"> <td data-title="'名称'" sortable="'name'"> <span class="label label-ProjectsRepositories">R</span> <div class="name-overflow"> <a ng-click="selectedParent = (selectedParent == null ? item : null);
                                    flag1='true';
                                    flag2='false';
                                    $ctrl.getTagsList(item)" class="pointer"> {{item.name}} <md-tooltip md-direction="bottom">{{item.name}}</md-tooltip> <i class="glyphicon glyphicon-chevron-down" ng-hide="(selectedParent != null) && (flag2=='false')"></i> <i class="glyphicon glyphicon-chevron-up" ng-show="(selectedParent != null) && (flag2=='false')"></i> </a> </div> </td> <td data-title="'标签数'" sortable="'tags_count'"> {{item.tags_count}} </td> <td data-title="'下载数'" sortable="'pull_count'"> {{item.pull_count}} </td> <td data-title="'操作'" sortable=""> <md-button class="btn btn-success" ng-click="$ctrl.deploy()">部署</md-button> </td> </tr> <tr ng-repeat-end ng-if="(selectedParent == item)"> <div> <td colspan="4" ng-if="flag1=='true'" class="padding-0"> <div ng-show="item.tagsTable==null"> <md-progress-circular class="detail-con-nothing" md-mode="indeterminate"></md-progress-circular> </div> <table ng-show="item.tagsTable" ng-table="item.tagsTable" class="table-column-5 tag-table"> <tr ng-repeat="tag in $data" ng-if="tag.tagName.length>0"> <td data-title="'标签'" sortable="'tagName'"> <div layout="row" layout-wrap> <div flex="33"> <span class="tag-name"> 标签 </span> <span> <a ng-href="{{$ctrl.showTagDetail(tag)}}"> {{tag.tagName}} <md-tooltip md-direction="bottom"> {{tag.tagName}} </md-tooltip> </a> </span> </div> <div flex="33"> <div> <span class="tag-name">Pull命令</span>{{tag.pullCommand}} <md-tooltip md-direction="bottom"> {{tag.pullCommand}} </md-tooltip> </div> </div> <div flex="33"> <div> <span class="tag-name">作者</span> {{tag.author?tag.author:'(None)'}} <md-tooltip md-direction="bottom"> {{tag.author?tag.author:'(None)'}} </md-tooltip> </div> </div> <div flex="33"> <div ng-hide="tag.scanning"> <span class="tag-name">漏洞</span> <span> <hor-scan-summary-chart data="tag.scan_overview" style="display:inline-block;"></hor-scan-summary-chart> </span> </div> <div ng-show="tag.scanning" layout="row"> <span class="tag-name">漏洞</span> <span> <md-progress-circular md-mode="indeterminate" md-diameter="20px" style="display:inline-block;"></md-progress-circular> </span> &nbsp;&nbsp;&nbsp; <p>已入队列</p> </div> </div> <div flex="33"> <div> <span class="tag-name">创建时间</span> {{tag.created | date:'yyyy-MM-dd hh:mm:ss'}} <md-tooltip md-direction="bottom"> {{tag.created | date:'yyyy-MM-dd hh:mm:ss'}} </md-tooltip> </div> </div> </div> </td> </tr> </table> </td> </div> </tr> </table> <div ng-if="!$ctrl._repositoriesList.length" class="detail-con-null detail-con-nothing"> <hor-notingstate></hor-notingstate> </div> </div> </md-table-container> <div class="grid-pagination" ng-if="$ctrl._repositoriesList.length" style="margin:0 10px;"> <md-table-pagination style="border-top:none;" md-limit="$ctrl.repoQuery.limit" md-page="$ctrl.repoQuery.page" md-total="{{$ctrl._publicDetail.repo_count}}" md-on-paginate="$ctrl.getDesserts" md-page-select> </md-table-pagination> </div> </md-card> </md-card>
<md-card> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2> <a ng-click="$ctrl.goToList()" class="">私有空间</a> /{{$ctrl._privateDetail.name | limitTo :40}} <span ng-if="$ctrl._privateDetail.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl._privateDetail.name.length > 40"> {{$ctrl._privateDetail.name}} </md-tooltip> <span class="create-btn" style="float:right;margin-right:20px;"> <md-menu md-position-mode="left bottom"> <button ng-click="$mdMenu.open()" class="md-no-underline btn btn-success float-l m-l-sm"> 上传镜像 </button> <md-menu-content class="PushCommands"> <md-menu-item class="PushCommands-title"> 上传镜像 <i class="icon-info-line fw"> <md-tooltip> 上传一个镜像到当前项目的参考命令。 </md-tooltip> </i> </md-menu-item> <md-radio-group class="copy"> <md-menu-item> <h3> {{$ctrl._projectPushCommands.tag_desc}} <br> <span> <b>{{$ctrl._projectPushCommands.tag_command}}</b> </span> <md-radio-button md-menu-origin aria-label="copy-tag" ng-value="true" class="pointer" clipboard supported="$ctrl.supported" text="$ctrl._projectPushCommands.tag_command"> </md-radio-button> </h3> </md-menu-item> <md-menu-item> <h3> {{$ctrl._projectPushCommands.push_desc}} <br> <span> <b>{{$ctrl._projectPushCommands.push_command}}</b> </span> <md-radio-button md-menu-origin aria-label="copy-command" ng-value="false" clipboard supported="$ctrl.supported" text="$ctrl._projectPushCommands.push_command"> </md-radio-button> </h3> </md-menu-item> </md-radio-group> </md-menu-content> </md-menu> </span> </h2> </div> </md-toolbar> <md-card> <md-table-container> <div> <div class="table-search"> <div class="table-search-input"> <div layout="row"> <span flex> <i class="icon-search"></i> <input type="text" placeholder="过滤镜像仓库" ng-model="$ctrl.repositoriesTerm" ng-change="$ctrl.applyRepositoriesFilter()" set-focus> </span> </div> </div> </div> <table ng-table="$ctrl.tableParamsRepositories" class="table-column-4"> <tr ng-repeat-start="item in $data"> <td data-title="'名称'" sortable="'name'"> <span class="md-menu-nbsp"> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button button-inherit" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-set"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.deleteRepositories($ctrl._privateDetail.name, item.name, $ctrl._privateDetail.repo_count)" aria-label="Delete"> 删除 </md-button> </md-menu-item> </md-menu-content> </md-menu> </span> <span class="label label-ProjectsRepositories">R</span> <div class="name-overflow"> <a ng-click="selectedParent = (selectedParent == null ? item : null);
                                    flag1='true';
                                    flag2='false';
                                    $ctrl.getTagsList(item)" class="pointer"> {{item.name}} <md-tooltip md-direction="bottom">{{item.name}}</md-tooltip> <i class="glyphicon glyphicon-chevron-down" ng-hide="(selectedParent != null) && (flag2=='false')"></i> <i class="glyphicon glyphicon-chevron-up" ng-show="(selectedParent != null) && (flag2=='false')"></i> </a> </div> </td> <td data-title="'标签数'" sortable="'tags_count'"> {{item.tags_count}} </td> <td data-title="'下载数'" sortable="'pull_count'"> {{item.pull_count}} </td> </tr> <tr ng-repeat-end ng-if="(selectedParent == item)"> <div> <td colspan="3" ng-if="flag1=='true'" class="padding-0"> <div ng-show="item.tagsTable==null"> <md-progress-circular class="detail-con-nothing" md-mode="indeterminate"></md-progress-circular> </div> <table ng-show="item.tagsTable" ng-table="item.tagsTable" class="table-column-5 tag-table"> <tr ng-repeat="tag in $data" ng-if="tag.tagName.length>0"> <td data-title="'标签'" sortable="'tagName'"> <div layout="row" layout-wrap> <div flex="33"> <span class="tag-name"> <span class="md-menu-nbsp"> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button button-inherit" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin> <i class="icon-block-two"></i> </md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.scanRepoTag($ctrl._privateDetail.name,selectedParent.name,tag)"> 扫描 </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.deleteTags($ctrl._privateDetail.name,selectedParent.name,tag.tagName)" aria-label="Delete"> 删除 </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showCopyDigestDialog(tag)"> 复制摘要 </md-button> </md-menu-item> </md-menu-content> </md-menu> </span> 标签 </span> <span> <a ng-href="{{$ctrl.showTagDetail(tag)}}"> {{tag.tagName}} <md-tooltip md-direction="bottom"> {{tag.tagName}} </md-tooltip> </a> </span> </div> <div flex="33"> <div> <span class="tag-name">Pull命令</span>{{tag.pullCommand}} <md-tooltip md-direction="bottom"> {{tag.pullCommand}} </md-tooltip> </div> </div> <div flex="33"> <div> <span class="tag-name">作者</span> {{tag.author?tag.author:'(None)'}} <md-tooltip md-direction="bottom"> {{tag.author?tag.author:'(None)'}} </md-tooltip> </div> </div> <div flex="33"> <div ng-hide="tag.scanning"> <span class="tag-name">漏洞</span> <span> <hor-scan-summary-chart data="tag.scan_overview" style="display:inline-block;"></hor-scan-summary-chart> </span> </div> <div ng-show="tag.scanning" layout="row"> <span class="tag-name">漏洞</span> <span> <md-progress-circular md-mode="indeterminate" md-diameter="20px" style="display:inline-block;"></md-progress-circular> </span> &nbsp;&nbsp;&nbsp; <p>已入队列</p> </div> </div> <div flex="33"> <div> <span class="tag-name">创建时间</span> {{tag.created | date:'yyyy-MM-dd hh:mm:ss'}} <md-tooltip md-direction="bottom"> {{tag.created | date:'yyyy-MM-dd hh:mm:ss'}} </md-tooltip> </div> </div> </div> </td> </tr> </table> <div ng-show="item.tagsTable.data.length>=5"> <md-button class="tag-button" ng-href="{{$ctrl.toTagsList($ctrl._privateDetail.name, item.name, $ctrl._privateDetail.project_id)}}"> 查看所有 </md-button> </div> </td> </div> </tr> </table> <div ng-if="!$ctrl._repositoriesList.length" class="detail-con-null detail-con-nothing"> <hor-notingstate></hor-notingstate> </div> </div> </md-table-container> <div class="grid-pagination" ng-if="$ctrl._repositoriesList.length" style="margin:0 10px;"> <md-table-pagination style="border-top:none;" md-limit="$ctrl.repoQuery.limit" md-page="$ctrl.repoQuery.page" md-total="{{$ctrl._privateDetail.repo_count}}" md-on-paginate="$ctrl.getDesserts" md-page-select> </md-table-pagination> </div> </md-card> </md-card>
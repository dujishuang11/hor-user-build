<md-card class="md-card-bg-gray"> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default" style="background:#f8f8f8;"> <h2>{{'Add Cluster Node'|I18N}}</h2> </div> </md-toolbar> <md-card-content> <div ng-repeat="nodeObj in $ctrl.nodeList"> <div class="creat-tenat"> <form name="create_form" id="createForm" novalidate class="Labels-dialog"> <div layout="row" layout-wrap> <div flex="33" class="tenat-content"> <md-input-container md-no-float class="md-block"> <label class="label-title"> {{'Host Name'|I18N}}: </label> <input ng-model="nodeObj.hostName" type="text" name="host_name" required placeholder="{{'Domain name,byname,or IP'|I18N}}" ng-maxlength="63" ng-pattern="/^[0-9a-zA-Z]([0-9a-zA-Z\-\.]*[0-9a-zA-Z])?$/" ng-change="$ctrl.changeInput()"> <div class="error" ng-messages="create_form.host_name.$error"> <div ng-message="required">{{'Please enter the Host name'|I18N}}</div> <div ng-message="maxlength">{{'The Host name must not exceed 63 characters'|I18N}}</div> <div ng-message="pattern">{{'Please enter the host name in the correct format'|I18N}}</div> </div> </md-input-container> <md-input-container md-no-float class="md-block"> <label class="label-title"> {{'Host IP'|I18N}}: </label> <input ng-model="nodeObj.hostIp" type="text" name="host_ip" placeholder="{{'Host static IP and bind byname need to set'|I18N}}" ng-pattern="/\d+\.\d+\.\d+\.\d+/" ng-change="$ctrl.changeInput()"> <div class="error" ng-messages="create_form.host_ip.$error"> <div ng-message="pattern">{{'Please enter the IP address in the correct format'|I18N}}</div> </div> </md-input-container> <md-input-container md-no-float class="md-block"> <label class="label-title"> {{'User Name'|I18N}}: </label> <input ng-model="nodeObj.userName" type="text" name="user_name" required placeholder="{{'The name for login host'|I18N}}" ng-maxlength="32" ng-pattern="/^[0-9a-zA-Z\-]*$/" ng-change="$ctrl.changeInput()"> <div class="error" ng-messages="create_form.user_name.$error"> <div ng-message="required">{{'Please enter the User Name'|I18N}}</div> <div ng-message="maxlength">{{'The User Name must not exceed 32 characters'|I18N}}</div> <div ng-message="pattern">{{'Please input English and numbers'|I18N}}</div> </div> </md-input-container> <md-input-container md-no-float class="md-block"> <label class="label-title"> {{'PassWord'|I18N}}: </label> <input ng-model="nodeObj.userPassword" type="password" name="user_password" ng-change="$ctrl.changeInput()"> </md-input-container> <md-input-container md-no-float class="md-block node-upload"> <hor-upload file="nodeObj.cipherCode" form="create_form"></hor-upload> </md-input-container> <md-input-container md-no-float class="md-block" style="margin-top:36px"> <label class="label-title"> {{'SSH Port'|I18N}}: </label> <input ng-model="nodeObj.sshPort" type="text" name="ssh_port" value="22" placeholder="22" ng-maxlength="5" ng-pattern="/^[0-9]*$/" ng-change="$ctrl.changeInput()"> <div class="error" ng-messages="create_form.ssh_port.$error"> <div ng-message="maxlength">{{'The SSH Port must not exceed 5 characters'|I18N}}</div> <div ng-message="pattern">{{'Please input numbers'|I18N}}</div> </div> </md-input-container> <div ng-show="$ctrl.testConnectionRunning" style="margin-bottom: 20px;margin-top: -20px;"> <md-progress-linear class="md-primary" md-mode="indeterminate" md-diameter="20px"> </md-progress-linear> </div> <md-button class="btn btn-success" ng-disabled="create_form.host_name.$invalid || create_form.host_ip$invalid ||
                                                create_form.user_name.$invalid || create_form.ssh_port.$invalid" ng-click="$ctrl.connectionTest(nodeObj)">{{'Connection Test'|I18N}}</md-button> <div ng-show="$ctrl.testConnectionResultSuccess" class="testConnectionResult text-success"> <i class="icon-checkmark-line fw"></i> {{'success'|I18N}} </div> <div ng-show="$ctrl.testConnectionResultError" class="testConnectionResult text-danger"> <i class="icon-cancel-line fw"></i> {{'Error'|I18N}} </div> </div> <div class="border-top flex-100 m-t-lg"></div> </div> </form> </div> </div> <div class="flex-100"> <div style="padding: 20px 0;"> <md-button class="btn btn-success" ng-click="$ctrl.addNodeProcDialog()" ng-show="$ctrl.testConnectionResultSuccess"> {{'Commit'|I18N}} </md-button> </div> </div> </md-card-content> </md-card>
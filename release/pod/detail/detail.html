<div class="detail-new-bg"> <div class="detail-tit detail-new-header"> <div layout="flex"> <div> <span class="label label-Pod">P</span> {{$ctrl.podDetail.name | limitTo :40}} <span ng-if="$ctrl.podDetail.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.podDetail.name.length >40"> {{$ctrl.podDetail.name}} </md-tooltip> </div> <span flex></span> <md-menu> <md-button aria-label="Open demo menu" class="md-button btn-default m-a-0" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin> <i class="icon-set f12"></i> {{"Actions"|I18N}} <i class="icon-arrow-down-sm f12"></i> </md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.goToShellPage()"> <span md-menu-align-target>命令行</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.deletePod(event)"> <span md-menu-align-target>{{"Pod Delete Pod"|I18N}}</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div class="f13 detail-new-header-con" layout="row" layout-wrap> <div flex="40" layout="row"> <label flex="15">{{"Pod Overview Status"|I18N}}:</label> {{$ctrl.podDetail.status|I18N}} </div> <div flex="40" layout="row"> <label flex="15">{{"Pod Overview Created At"|I18N}}:</label> {{$ctrl.podDetail.createAt|date:'yyyy/MM/dd HH:mm (UTC)'}} </div> <div flex="40" layout="row"> <label flex="10">{{"Pod Overview IP"|I18N}}:</label> {{$ctrl.podDetail.podip||'-'}} </div> </div> </div> <md-card class="detail-new-tab"> <md-tabs md-selected="$ctrl.selectedIndex"> <md-tab> <md-tab-label>配置</md-tab-label> <md-tab-body> <div id="overview"> <div layout="flex" layout-wrap class="overviewDetail"> <div flex="40"> <label>名称</label> <div class="name-overflow"> {{$ctrl.podDetail.name}} </div> </div> <div flex="40" ng-hide="$ctrl.podDetail.node==null"> <label>镜像</label> <div class="name-overflow"> {{$ctrl.podDetail.containers[0].image}} </div> </div> <div flex="40"> <label>{{"Pod Overview Node Selector"|I18N}}</label> <span ng-if="$ctrl.podDetail.nodeSelector==undefined" class="no-label">-</span> <span>{{$ctrl.podDetail.nodeSelector}}</span> </div> <div flex="40"> <label>{{"Pod Overview Restart Policy"|I18N}}</label> {{$ctrl.podDetail.restartPolicy|I18N}} </div> <div flex="40" ng-hide="$ctrl.podDetail.ownerArr.length===0" layout="row"> <label flex="30"> {{"Pod Overview Owner"|I18N}}</label> <div flex> <div ng-repeat="item in $ctrl.podDetail.ownerArr"> <div layout="row" ng-switch="item.kind"> <div ng-switch-when="ingress"> <span class="label label-Ingress">I</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="configmap"> <span class="label label-ConfigMap">CM</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="service"> <span class="label label-Service">S</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="daemonset"> <span class="label label-DaemonSet">DS</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="deployment"> <span class="label label-Deployment">D</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="replicaset"> <span class="label label-ReplicaSet">RS</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="replicationcontroller"> <span class="label label-ReplicationController">RC</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="job"> <span class="label label-Job">J</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> <div ng-switch-when="pod"> <span class="label label-Pod">P</span> <a ng-click="$ctrl.goToObjectDetail(item)" style="cursor:pointer;"> {{item.name}} </a> </div> </div> </div> </div> </div> <div flex="40" layout="row"> <label flex="30">{{"Pod Overview Labels"|I18N}}</label> <div flex> <div ng-if="$ctrl.podDetail.labels"> <div ng-repeat="item in $ctrl.podDetail.labels track by $index" class="label-default"> <a class="label-Pod-c">{{item}}</a> </div> </div> <div ng-if="!$ctrl.podDetail.labels"> <span>No Labels</span> </div> </div> </div> </div> </div> </md-tab-body> </md-tab> <md-tab label="监控" ng-click="$ctrl.initChartData()"> <div layout="flex" class="md-detail-card"> <div flex="33"> <div class="detail-card"> <h3 class="card-title">{{"Pod Overview CPU"|I18N}}</h3> <div class="card"> <hor-chart data="$ctrl.podCpuUsageChartData" config="$ctrl.podCpuUsageChartConfig"></hor-chart> <p ng-if="$ctrl.podCpuUsageChartData.length==0" class="chart-no-data">No data found</p> </div> </div> </div> <div flex="33"> <div class="detail-card"> <h3 class="card-title">{{"Pod Overview Memory"|I18N}}</h3> <div class="card"> <hor-chart data="$ctrl.podMemoryUsageChartData" config="$ctrl.podMemoryUsageChartConfig"></hor-chart> <p ng-if="$ctrl.podMemoryUsageChartData.length==0" class="chart-no-data">No data found</p> </div> </div> </div> </div> </md-tab> <md-tab label="日志" ng-click="$ctrl.changeTab()"> <md-tab-body> <div class="log-container"> <md-input-container> <md-select class="select-border md-no-underline" ng-model="$ctrl.query.containerName" aria-label="Selector for containers" md-on-close="$ctrl.changeContainer($ctrl.selectedcontainerName)"> <md-option ng-value="container.name" ng-repeat="container in $ctrl.podContainer"> {{container.name}} </md-option> </md-select> </md-input-container> <div ng-if="$ctrl.logList.logs.length!=0" class="log-header">{{$ctrl.logList.logs.length}} {{"lines"|I18N}}</div> <div class="log-body scrollbar" ng-if="$ctrl.logList.logs.length!=0"> <div ng-repeat="item in $ctrl.logList.logs"> <span>{{item}}</span> </div> </div> <div ng-if="$ctrl.logList.logs.length==0" class="log-header">0 lines</div> <div class="log-body" ng-if="$ctrl.logList.logs.length==0"> <div> <hor-notingstate></hor-notingstate> </div> </div> </div> </md-tab-body> </md-tab> </md-tabs> </md-card> </div>
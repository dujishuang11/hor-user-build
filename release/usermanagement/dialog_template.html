<md-dialog aria-label=""> <form ng-cloak name="instance_form" style="width: 700px;" class="form-user"> <md-dialog-content class="layout-padding"> <h2 class="md-title">{{"Edit User Information"|I18N}}</h2> <div layout="row" layout-wrap> <div flex="50"> <md-input-container md-no-float class="md-block"> <label class="col-sm-3 control-label col-sm-offset-1 md-required"><span style="color:red">* </span>{{"MAILBOX"|I18N}}:</label> <input ng-model="$ctrl.obj.data.Email" type="text" name="email" required placeholder="{{'Please enter the mailbox'|I18N}}" ng-maxlength="32" ng-pattern="/^[A-Za-z0-9\u4e00-\u9fa5\-_]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/"> <div class="error" ng-messages="instance_form.email.$error"> <div ng-message="required">{{"Please enter the mailbox"|I18N}}</div> <div ng-message="maxlength">{{"The mailbox cannot exceed 32 characters"|I18N}}</div> <div ng-message="pattern">{{"Please enter the mailbox in the correct format"|I18N}}</div> </div> </md-input-container> </div> <div flex="50"> <md-input-container md-no-float class="md-block"> <label class="col-sm-3 control-label col-sm-offset-1 md-required"><span style="color:red">* </span>{{"PASSWORD"|I18N}}:</label> <input ng-model="$ctrl.secret" type="password" name="secret" required placeholder="{{'Please input a password'|I18N}}" ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error" ng-messages="instance_form.secret.$error"> <div ng-message="required">{{"Please input a password"|I18N}}</div> <div ng-message="maxlength">{{"Password must not exceed 30 characters"|I18N}}</div> <div ng-message="pattern">{{"Please input English and numbers."|I18N}}</div> </div> </md-input-container> </div> <div flex="50"> <md-input-container md-no-float class="md-block" ng-if="$ctrl.obj.showRole"> <label>{{"ROLE"|I18N}}</label> <md-select ng-model="$ctrl.obj.powerValue" aria-label="Selector for containers" ng-change="$ctrl.changeType($ctrl.obj.powerValue)"> <md-option ng-value="item.name" ng-repeat="item in $ctrl.obj.powerType"> {{item.name}} </md-option> </md-select> </md-input-container> </div> <div flex="50"> <md-input-container md-no-float class="md-block" ng-if="$ctrl.obj.powerValue!=='cluster-admin'"> <label>{{"TENANT"|I18N}}</label> <md-select ng-model="$ctrl.obj.namespaceValue" aria-label="Selector for containers"> <md-option ng-value="item.Name" ng-repeat="item in $ctrl.obj.tenantList"> {{item.Name}} </md-option> </md-select> </md-input-container> </div> </div> </md-dialog-content> <md-dialog-actions layout="row"> <md-button class="btn btn-success" ng-disabled="instance_form.name.$invalid ||instance_form.email.$invalid ||instance_form.secret.$invalid " ng-click="$ctrl.answer($ctrl.obj.data.Email,$ctrl.secret,$ctrl.obj.powerValue,$ctrl.obj.namespaceValue,$ctrl.showNamespace)"> {{"save user"|I18N}} </md-button> <md-button class="btncancel btn-link" ng-click="$ctrl.cancel()"> {{"Cancel"|I18N}} </md-button> <span flex></span> </md-dialog-actions> </form> </md-dialog>
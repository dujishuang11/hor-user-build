<div class="detail-tit" ng-if="$ctrl.editFlag" layout="flex"> <div> <span class="label label-Service">S</span> {{$ctrl.serviceDetail.Service.metadata.name | limitTo :40}} <span ng-if="$ctrl.serviceDetail.Service.metadata.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.serviceDetail.Service.metadata.name.length >40"> {{$ctrl.serviceDetail.Service.metadata.name}} </md-tooltip> </div> <span flex></span> <md-menu> <md-button aria-label="Open demo menu" class="md-button btn-default m-a-0" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-set f12"></i> {{"Actions"|I18N}} <i class="icon-arrow-down-sm f12"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.showModifyResourceObjectLabels(
                                  event, $ctrl.serviceDetail.Service.metadata.namespace, 'services',
                                  $ctrl.serviceDetail.Service.metadata.name, $ctrl.lables)"> <span md-menu-align-target>{{"Change Labels"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showModifyResourceObjectPodSelector(
                                  event, $ctrl.serviceDetail.Service.metadata.namespace, 'services',
                                  $ctrl.serviceDetail.Service.metadata.name, $ctrl.selector)"> <span md-menu-align-target>{{"Deployment Change Label Selector"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showModifyResourceObjectAnnotations(
                                  event, $ctrl.serviceDetail.Service.metadata.namespace, 'services',
                                  $ctrl.serviceDetail.Service.metadata.name, $ctrl.annotations)"> <span md-menu-align-target>{{"Change Annotations"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.updateService()" aria-label="编辑"> <span md-menu-align-target>{{"Edit Service"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.deleteService($event)" aria-label="删除"> <span md-menu-align-target>{{"Delete Service"|I18N}}</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <md-card> <md-tabs md-selected="$ctrl.selectedIndex"> <md-tab> <md-tab-label> {{"Overview"|I18N}}</md-tab-label> <md-tab-body> <div layout="row" layout-wrap class="m-t-md settings overviewDetail"> <div flex="40"> <label>{{"NAME"|I18N}}</label> {{$ctrl.serviceDetail.Service.metadata.name | limitTo :40}} <span ng-if="$ctrl.serviceDetail.Service.metadata.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.serviceDetail.Service.metadata.name.length >40"> {{$ctrl.serviceDetail.Service.metadata.name}} </md-tooltip> </div> <div flex="40"> <label>{{"NAMESPACE"|I18N}}</label> <div class="name-overflow"> <span class="label label-Namespace">N</span> <a ng-href="{{$ctrl.getNamespaceDetail($ctrl.serviceDetail.Service.metadata.namespace)}}"> {{$ctrl.serviceDetail.Service.metadata.namespace}} </a> </div> </div> <div flex="40" layout="row"> <label flex="30">{{"LABEL SELECTOR"|I18N}}</label> <div flex> <span class="label-default" ng-repeat="selector in $ctrl.selector track by $index"> <a class="label-Service-c">{{selector}}</a> </span> <span ng-if="!$ctrl.selectorStyle" class="no-label">-</span> </div> </div> <div flex="40"> <label>{{"ANNOTATIONS"|I18N}}</label> <div class="image-button"> <a ng-click="$ctrl.showModifyResourceObjectAnnotations(
                                  event, $ctrl.serviceDetail.Service.metadata.namespace, 'services',
                                  $ctrl.serviceDetail.Service.metadata.name, $ctrl.annotations)" class="pointer"> <span>{{$ctrl.annotations.length}} </span> Annotations <i class="icon-arrow-right-lg f12"></i> </a> </div> </div> <div flex="40"> <label>{{"SESSION AFFINITY"|I18N}}</label> <div ng-if="$ctrl.serviceDetail.Service.spec.sessionAffinity!='None'">{{$ctrl.serviceDetail.Service.spec.sessionAffinity}}</div> <div ng-if="$ctrl.serviceDetail.Service.spec.sessionAffinity=='None'">-</div> </div> <div flex="40"> <label>{{"CREATED AT"|I18N}}</label> <span> {{$ctrl.serviceDetail.Service.metadata.creationTimestamp | date:data}} <md-tooltip md-direction="bottom"> Create at {{$ctrl.serviceDetail.Service.metadata.creationTimestamp | date:data}} </md-tooltip> </span> </div> <div flex="40" layout="row"> <label flex="30">{{"LABELS"|I18N}}</label> <div flex ng-if="$ctrl.lablesStyle" style="overflow: hidden;"> <div class="label-default" ng-repeat="label in $ctrl.lables track by $index" class="label-default"> <a class="label-Service-c">{{label}}</a> </div> </div> <div flex ng-if="!$ctrl.lablesStyle" class="no-label"> <div>-</div> </div> </div> <div flex="100" class="label-border-top"></div> </div>  <div class="m-t-md settings overviewDetail" style="padding: 0 30px;"> <div layout="row"> <div flex="100" layout="row" class="service-img"> <div flex="30"> <div class="clusterip"> <div class="clusterip-content"> <p>{{"CLUSTER IP"|I18N}}</p> <p>{{$ctrl.serviceDetail.Service.spec.clusterIP || 'None'}}</p> </div> </div> </div> <div class="clusterip-line"></div> <div flex> <div class="vertical-line"></div> <div class="clusterip-list" ng-repeat="row in $ctrl.serviceDetail.Service.spec.ports" ng-class="{'security': row.port==443, 'Unsafe': row.port!=443}"> <div class="clusterip"> <div class="clusterip-content"> <p> <span ng-if="row.name">{{row.name}}</span> <span ng-if="!row.name">-</span> </p> <p><span>{{row.port}}</span></p> </div> <div class="clusterip-line"> <span class="text">TCP</span> <div class="line"></div> </div> </div> <div class="clusterip"> <div class="clusterip-content"> <p>{{"TARGET-PORT"|I18N}}</p> <p>{{row.targetPort}}</p> </div> <div class="clusterip-line"> <span class="text">TCP</span> <div class="line"></div> </div> </div> <div class="clusterip" ng-if="row.nodePort!=undefind"> <div class="clusterip-content"> <p>{{"NodePort"|I18N}}</p> <p><span>{{row.nodePort}}</span></p> </div> <div class="clusterip-line"> <span class="text">TCP</span> <div class="line"></div> </div> </div> </div> </div> </div> </div> </div> </md-tab-body> </md-tab> <md-tab> <md-tab-label>{{"YAML"|I18N}}</md-tab-label> <md-tab-body> <section class="yaml"> <div auto-height ui-ace="$ctrl.aceOption" ng-model="$ctrl.aceModel"></div> </section> <div class="yaml-btn"> <md-button ng-click="$ctrl.saveChange()" class="btn btn-success">{{"Save Change"|I18N}}</md-button> <md-button ng-click="$ctrl.reload()" class="btn btn-default">{{"Reload"|I18N}} </md-button> </div> </md-tab-body> </md-tab> <md-tab ng-click="focusInput=true"> <md-tab-label>{{"Pods"|I18N}}</md-tab-label> <md-tab-body> <md-table-container> <div ng-if="!$ctrl.showNothingState()"> <div class="table-search"> <div class="table-search-input"> <div layout="row"> <span class="create-btn"> <div ui-sref="pod.new" class="create-btn"> <button class="btn btn-success">{{"CreatePod"|I18N}}</button> </div> </span> <span flex> <i class="icon-search"></i> <input type="text" placeholder="{{'Filter Pod | You can search name & labels'|I18N}}" ng-model="$ctrl.searchText" set-focus> </span> </div> </div> </div> <hor-pod-list data="$ctrl.tableParams" namespace="$ctrl.namespace" searchtext="$ctrl.searchText" on-href="$ctrl.getPodDetailHref(namespace, objName)" on-namespace="$ctrl.getNamespaceHref(namespace, objName)" on-delete="$ctrl.deleteServicePod(event, item)" on-update="$ctrl.updateServicePod(event, item)" on-node="$ctrl.nodeDetail(event,item)" update-labels="$ctrl.showModifyResourceObjectLabels(event, namespace, resourceObjType, resourceObjName, resourceObjLabels)" update-annotations="$ctrl.showModifyResourceObjectAnnotations(event, namespace, resourceObjType, resourceObjName, resourceObjAnnotations)" class="table table-column-5 Pods-c"> </hor-pod-list> </div> <div ng-if="$ctrl.showNothingState()"> <hor-notingstate></hor-notingstate> </div> </md-table-container> </md-tab-body> </md-tab> </md-tabs> </md-card>
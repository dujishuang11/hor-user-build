<ol class="breadcrumb"> <li>当前位置</li> <li>部署实例</li> </ol> <md-card> <div ng-if="$ctrl.noData"> <hor-notingstate></hor-notingstate> </div> </md-card> <md-card ng-if="$ctrl.deployedReleaseListSpec.length != 0"> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>正常实例</h2> </div> </md-toolbar> <md-table-container ng-if="$ctrl.deployedReleaseListSpec"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="$ctrl.query.order"> <tr md-row> <th md-column><span>状态</span></th> <th md-column><span>实例名称</span></th> <th md-column><span>模板版本</span></th> <th md-column><span>当前版本</span></th> <th md-column><span>更新时间</span></th> <th md-column><span>描述</span></th> <th md-column><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.deployedReleaseListSpec"> <td md-cell> <div layout="row" ng-switch="item.info.status.code"> <md-icon class="failed icon" ng-switch-when="0"> <md-tooltip>未知错误</md-tooltip> </md-icon> <md-icon class="success icon" ng-switch-when="1"> <md-tooltip>正常</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="2"> <md-tooltip>已删除</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="3"> <md-tooltip>已过时</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="4"> <md-tooltip>部署失败</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="5"> <md-tooltip>正在删除</md-tooltip> </md-icon> </div> </td> <td md-cell> <a ng-href="{{$ctrl.getDetailHref(item.name, item.chart.metadata.version)}}"> {{item.name}} </a> </td> <td md-cell> v{{item.chart.metadata.version}} </td> <td md-cell ng-if="item.version"> {{item.version}} </td> <td md-cell ng-if="!item.version"> - </td> <td md-cell ng-if="item.info.last_deployed.seconds"> {{item.info.last_deployed.seconds*1000|date:'yyyy-MM-dd hh:mm:ss a'}} </td> <td md-cell ng-if="!item.info.last_deployed.seconds"> - </td> <td md-cell ng-if="item.info.Description"> {{item.info.Description}} </td> <td md-cell ng-if="!item.info.Description"> - </td> <td md-cell> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.getReleaseUpgradeHref(event, item.name, item.chart.metadata.version)" aria-label="升级"> <span md-menu-align-target>升级</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showRollBackDialog(event, item.name)" aria-label="回滚"> <span md-menu-align-target>回滚</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showDeleteDialog(event, item.name)" aria-label="删除"> <span md-menu-align-target>删除</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </td> </tr> </tbody> </table> </md-table-container> </md-card> <md-card ng-if="$ctrl.failedReleaseListSpec !=0 "> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>失败实例</h2> </div> </md-toolbar> <md-table-container ng-if="$ctrl.failedReleaseListSpec.length != 0"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="$ctrl.query.order"> <tr md-row> <th md-column><span>状态</span></th> <th md-column><span>实例名称</span></th> <th md-column><span>模板版本</span></th> <th md-column><span>当前版本</span></th> <th md-column><span>更新时间</span></th> <th md-column><span>描述</span></th> <th md-column><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.failedReleaseListSpec"> <td md-cell> <div layout="row" ng-switch="item.info.status.code"> <md-icon class="failed icon" ng-switch-when="0"> <md-tooltip>未知错误</md-tooltip> </md-icon> <md-icon class="success icon" ng-switch-when="1"> <md-tooltip>正常</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="2"> <md-tooltip>已删除</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="3"> <md-tooltip>已过时</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="4"> <md-tooltip>部署失败</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="5"> <md-tooltip>正在删除</md-tooltip> </md-icon> </div> </td> <td md-cell> <a ng-href="{{$ctrl.getDetailHref(item.name, item.chart.metadata.version)}}"> {{item.name}} </a> </td> <td md-cell> v{{item.chart.metadata.version}} </td> <td md-cell ng-if="item.version"> {{item.version}} </td> <td md-cell ng-if="!item.version"> - </td> <td md-cell ng-if="item.info.last_deployed.seconds"> {{item.info.last_deployed.seconds*1000|date:'yyyy-MM-dd hh:mm:ss a'}} </td> <td md-cell ng-if="!item.info.last_deployed.seconds"> - </td> <td md-cell ng-if="item.info.Description"> {{item.info.Description}} </td> <td md-cell ng-if="!item.info.Description"> - </td> <td md-cell> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.getReleaseUpgradeHref(event, item.name, item.chart.metadata.version)" aria-label="升级"> <span md-menu-align-target>升级</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showRollBackDialog(event, item.name)" aria-label="回滚"> <span md-menu-align-target>回滚</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showDeleteDialog(event, item.name)" aria-label="删除"> <span md-menu-align-target>删除</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </td> </tr> </tbody> </table> </md-table-container> </md-card> <md-card ng-if="$ctrl.deletedReleaseListSpec.length != 0"> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>已删除实例</h2> </div> </md-toolbar> <md-table-container ng-if="$ctrl.deletedReleaseListSpec"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="$ctrl.query.order"> <tr md-row> <th md-column><span>状态</span></th> <th md-column><span>实例名称</span></th> <th md-column><span>模板版本</span></th> <th md-column><span>当前版本</span></th> <th md-column><span>更新时间</span></th> <th md-column><span>描述</span></th> <th md-column><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.deletedReleaseListSpec"> <td md-cell> <div layout="row" ng-switch="item.info.status.code"> <md-icon class="failed icon" ng-switch-when="0"> <md-tooltip>未知错误</md-tooltip> </md-icon> <md-icon class="success icon" ng-switch-when="1"> <md-tooltip>正常</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="2"> <md-tooltip>已删除</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="3"> <md-tooltip>已过时</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="4"> <md-tooltip>部署失败</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="5"> <md-tooltip>正在删除</md-tooltip> </md-icon> </div> </td> <td md-cell> <a ng-href="{{$ctrl.getDetailHref(item.name, item.chart.metadata.version)}}"> {{item.name}} </a> </td> <td md-cell> v{{item.chart.metadata.version}} </td> <td md-cell ng-if="item.version"> {{item.version}} </td> <td md-cell ng-if="!item.version"> - </td> <td md-cell ng-if="item.info.last_deployed.seconds"> {{item.info.last_deployed.seconds*1000|date:'yyyy-MM-dd hh:mm:ss a'}} </td> <td md-cell ng-if="!item.info.last_deployed.seconds"> - </td> <td md-cell ng-if="item.info.Description"> {{item.info.Description}} </td> <td md-cell ng-if="!item.info.Description"> - </td> <td md-cell> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.showRollBackDialog(event, item.name)" aria-label="回滚"> <span md-menu-align-target>回滚</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showDeletePurgeDialog(event, item.name)" aria-label="删除"> <span md-menu-align-target>删除</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </td> </tr> </tbody> </table> </md-table-container> </md-card> <md-card ng-if="$ctrl.supersededReleaseListSpec.length != 0"> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>已过时实例</h2> </div> </md-toolbar> <md-table-container ng-if="$ctrl.supersededReleaseListSpec"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="$ctrl.query.order"> <tr md-row> <th md-column><span>状态</span></th> <th md-column><span>实例名称</span></th> <th md-column><span>模板版本</span></th> <th md-column><span>当前版本</span></th> <th md-column><span>更新时间</span></th> <th md-column><span>描述</span></th> <th md-column><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.supersededReleaseListSpec"> <td md-cell> <div layout="row" ng-switch="item.info.status.code"> <md-icon class="failed icon" ng-switch-when="0"> <md-tooltip>未知错误</md-tooltip> </md-icon> <md-icon class="success icon" ng-switch-when="1"> <md-tooltip>正常</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="2"> <md-tooltip>已删除</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="3"> <md-tooltip>已过时</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="4"> <md-tooltip>部署失败</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="5"> <md-tooltip>正在删除</md-tooltip> </md-icon> </div> </td> <td md-cell> <a ng-href="{{$ctrl.getDetailHref(item.name, item.chart.metadata.version)}}"> {{item.name}} </a> </td> <td md-cell> v{{item.chart.metadata.version}} </td> <td md-cell ng-if="item.version"> {{item.version}} </td> <td md-cell ng-if="!item.version"> - </td> <td md-cell ng-if="item.info.last_deployed.seconds"> {{item.info.last_deployed.seconds*1000|date:'yyyy-MM-dd hh:mm:ss a'}} </td> <td md-cell ng-if="!item.info.last_deployed.seconds"> - </td> <td md-cell ng-if="item.info.Description"> {{item.info.Description}} </td> <td md-cell ng-if="!item.info.Description"> - </td> <td md-cell> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.getReleaseUpgradeHref(event, item.name, item.chart.metadata.version)" aria-label="升级"> <span md-menu-align-target>升级</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showRollBackDialog(event, item.name)" aria-label="回滚"> <span md-menu-align-target>回滚</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showDeleteDialog(event, item.name)" aria-label="删除"> <span md-menu-align-target>删除</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </td> </tr> </tbody> </table> </md-table-container> </md-card> <md-card ng-if="$ctrl.unknownReleaseListSpec.length != 0"> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>未知错误实例</h2> </div> </md-toolbar> <md-table-container ng-if="$ctrl.unknownReleaseListSpec.length != 0"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="$ctrl.query.order"> <tr md-row> <th md-column><span>状态</span></th> <th md-column><span>实例名称</span></th> <th md-column><span>模板版本</span></th> <th md-column><span>当前版本</span></th> <th md-column><span>更新时间</span></th> <th md-column><span>描述</span></th> <th md-column><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.unknownReleaseListSpec"> <td md-cell> <div layout="row" ng-switch="item.info.status.code"> <md-icon class="failed icon" ng-switch-when="0"> <md-tooltip>未知错误</md-tooltip> </md-icon> <md-icon class="success icon" ng-switch-when="1"> <md-tooltip>正常</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="2"> <md-tooltip>已删除</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="3"> <md-tooltip>已过时</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="4"> <md-tooltip>部署失败</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="5"> <md-tooltip>正在删除</md-tooltip> </md-icon> </div> </td> <td md-cell> <a ng-href="{{$ctrl.getDetailHref(item.name, item.chart.metadata.version)}}"> {{item.name}} </a> </td> <td md-cell> v{{item.chart.metadata.version}} </td> <td md-cell ng-if="item.version"> {{item.version}} </td> <td md-cell ng-if="!item.version"> - </td> <td md-cell ng-if="item.info.last_deployed.seconds"> {{item.info.last_deployed.seconds*1000|date:'yyyy-MM-dd hh:mm:ss a'}} </td> <td md-cell ng-if="!item.info.last_deployed.seconds"> - </td> <td md-cell ng-if="item.info.Description"> {{item.info.Description}} </td> <td md-cell ng-if="!item.info.Description"> - </td> <td md-cell> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.getReleaseUpgradeHref(event, item.name, item.chart.metadata.version)" aria-label="升级"> <span md-menu-align-target>升级</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showRollBackDialog(event, item.name)" aria-label="回滚"> <span md-menu-align-target>回滚</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showDeleteDialog(event, item.name)" aria-label="删除"> <span md-menu-align-target>删除</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </td> </tr> </tbody> </table> </md-table-container> </md-card> <md-card ng-if="$ctrl.deletingReleaseListSpec.length != 0"> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>正在删除实例</h2> </div> </md-toolbar> <md-table-container ng-if="$ctrl.deletingReleaseListSpec.length != 0"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="$ctrl.query.order"> <tr md-row> <th md-column><span>状态</span></th> <th md-column><span>实例名称</span></th> <th md-column><span>模板版本</span></th> <th md-column><span>当前版本</span></th> <th md-column><span>更新时间</span></th> <th md-column><span>描述</span></th> <th md-column><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.deletingReleaseListSpec"> <td md-cell> <div layout="row" ng-switch="item.info.status.code"> <md-icon class="failed icon" ng-switch-when="0"> <md-tooltip>未知错误</md-tooltip> </md-icon> <md-icon class="success icon" ng-switch-when="1"> <md-tooltip>正常</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="2"> <md-tooltip>已删除</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="3"> <md-tooltip>已过时</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="4"> <md-tooltip>部署失败</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="5"> <md-tooltip>正在删除</md-tooltip> </md-icon> </div> </td> <td md-cell> <a ng-href="{{$ctrl.getDetailHref(item.name, item.chart.metadata.version)}}"> {{item.name}} </a> </td> <td md-cell> v{{item.chart.metadata.version}} </td> <td md-cell ng-if="item.version"> {{item.version}} </td> <td md-cell ng-if="!item.version"> - </td> <td md-cell ng-if="item.info.last_deployed.seconds"> {{item.info.last_deployed.seconds*1000|date:'yyyy-MM-dd hh:mm:ss a'}} </td> <td md-cell ng-if="!item.info.last_deployed.seconds"> - </td> <td md-cell ng-if="item.info.Description"> {{item.info.Description}} </td> <td md-cell ng-if="!item.info.Description"> - </td> <td md-cell> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.getReleaseUpgradeHref(event, item.name, item.chart.metadata.version)" aria-label="升级"> <span md-menu-align-target>升级</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showRollBackDialog(event, item.name)" aria-label="回滚"> <span md-menu-align-target>回滚</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showDeleteDialog(event, item.name)" aria-label="删除"> <span md-menu-align-target>删除</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </td> </tr> </tbody> </table> </md-table-container> </md-card>
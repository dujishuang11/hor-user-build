<md-card class="services"> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>服务</h2> </div> </md-toolbar> <md-table-container> <div> <div class="table-search"> <div class="table-search-input"> <div layout="row"> <span class="create-btn"> <a ui-sref="services.new"> <button class="btn btn-success">添加服务</button> </a> </span> <span flex> <i class="icon-search"></i> <input type="text" placeholder="按服务名称搜索" ng-model="$ctrl.globalSearchTerm" ng-change="$ctrl.applyGlobalFilter()" set-focus> </span> </div> </div> </div> <table ng-table="$ctrl.tableParams"> <colgroup> <col width="25%"> <col width="25%"> <col width="25%"> <col width="25%"> </colgroup> <tr ng-repeat="row in $data"> <td data-title="'服务名称'" sortable="'name'"> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button button-inherit" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin> <i class="icon-set"></i> </md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.showModifyResourceObjectHS($event,
                                            row.namespace, 'deployment', row.name, row.PodInfo.current, row.PodInfo.desired)"> <span md-menu-align-target>水平扩展</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showHpa($event,
                                            row.name,row.namespace)"> <span md-menu-align-target>自动弹性伸缩</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showModifyResourceObjectLabels(
                                                          event, row.namespace, 'deployment',
                                                           row.name, row.label)"> <span md-menu-align-target>{{"Deployment Change Labels"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showModifyResourceObjectPodSelector(
                                                          event,  row.namespace, 'deployment',
                                                           row.name,  row.matchLabels)"> <span md-menu-align-target>{{"Deployment Change Label Selector"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showModifyResourceObjectAnnotations(
                                                          event, row.namespace, 'deployment',
                                                        row.name, row.annotations)"> <span md-menu-align-target>{{"Deployment Change Annotations"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showUpdatePage($event,row)" aria-label="编辑"> <span md-menu-align-target>编辑服务</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.deleteService($event,row)"> <span md-menu-align-target>删除服务</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> <span class="label label-Service">S</span> <div class="name-overflow"> <a ng-href="{{$ctrl.getDetailHref(row.namespace,row.name)}}"> {{row.name}} </a> <md-tooltip md-direction="bottom"> {{row.name}} </md-tooltip> </div> </td> <td data-title="'NAMESPACE'|I18N" sortable="'namespace'"> <div class="name-overflow"> <span class="label label-Namespace">N</span> <a ng-href="{{ $ctrl.getNamespaceHref(row.namespace, row.name) }}"> {{row.namespace}} </a> <md-tooltip md-direction="bottom"> {{row.namespace}} </md-tooltip> </div> </td> <td data-title="'LABELS'|I18N" sortable="'label'" ng-class="{'labels-block': row.label.length >1}" style="overflow: visible;"> <div ng-if="row.label"> <div ng-repeat="label in ::row.label | limitTo: 1  track by $index" class="label-default"> <a class="label-Deployment-c">{{label}}</a> </div> <div class="labels-icon">...</div> <div class="labels-block-hover"> <div ng-repeat="label in ::row.label  track by $index" class="label-default label-Deployment-c"> {{label}} </div> </div> </div> <div ng-if="!row.label" class="no-label"> - </div> </td> <td data-title="'PODS'|I18N" sortable="'PodInfo.desired'"> <a ng-href="{{$ctrl.getPodlHref(row.namespace,row.name)}}"> {{row.status}} </a> </td> </tr> </table> </div> <div ng-if="$ctrl.deploymentList.length==0" class="detail-con-null detail-con-nothing"> <hor-notingstate></hor-notingstate> </div> </md-table-container> </md-card>
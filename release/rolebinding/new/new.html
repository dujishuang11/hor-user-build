<md-card style="margin-top:-10px;"> <md-tabs md-selected="$ctrl.selectedIndex"> <md-tab> <md-tab-label>{{"Create Role Binding"|I18N}}</md-tab-label> <md-tab-body> <form ng-cloak name="create_form" class="c-rolebinding"> <div layout="row" layout-wrap> <div flex="20"> <h3 class="rolebinding-title">{{"Role Bindings"|I18N}}</h3> </div> <div flex="80" layout="row" layout-wrap> <div flex="55"> <md-input-container class="md-block" flex-gt-sm> <label><span style="color:red;">*</span>{{"Name"|I18N}}:</label> <input ng-model="$ctrl.roleBindingName" type="text" name="name" required placeholder="{{'Please input Role binding name'|I18N}}" ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error" ng-messages="create_form.name.$error"> <div ng-message="required">{{"Please input Role binding name"|I18N}}</div> <div ng-message="maxlength">{{"Role binding name no more than 30 characters"|I18N}}</div> <div ng-message="pattern">{{"Please input English and numbers"|I18N}}</div> </div> </md-input-container> </div> <div flex="55"> <md-input-container md-no-float class="md-block"> <label>{{"Namespace"|I18N}}:</label> <md-select ng-model="$ctrl.appNamespace" aria-label="Selector for containers"> <md-option ng-value="item.metadata.name" ng-repeat="item in $ctrl.namespaceName"> {{item.metadata.name}} </md-option> </md-select> </md-input-container> </div> </div> <div flex="100" class="border-top"></div> <div flex="20"> <h3 class="rolebinding-title">{{"Role"|I18N}}</h3> </div> <div flex="80" layout="row" layout-wrap> <div flex="55"> <md-input-container md-no-float class="md-block"> <label>{{"Role Name"|I18N}}:</label> <md-select ng-model="$ctrl.appRole" aria-label="Selector for containers"> <md-option ng-value="item.metadata.name" ng-repeat="item in $ctrl.allRoleArr"> <span ng-if="item.metadata.kind == 'Role'" class="label label-Role">R</span> <span ng-if="item.metadata.kind == 'ClusterRole'" class="label label-Role">CR</span> {{item.metadata.name}} </md-option> </md-select> </md-input-container> </div> </div> <div flex="100" class="border-top"></div> <div flex="20"> <h3 class="rolebinding-title">{{"Subject"|I18N}}</h3> </div> <div flex="80"> <div flex="55"> <md-radio-group ng-model="$ctrl.data.group1"> <md-radio-button value="User" class="md-primary">{{"User"|I18N}}</md-radio-button> <md-radio-button value="Group" class="md-primary"> {{"Group"|I18N}} </md-radio-button> <md-radio-button value="ServiceAccount" class="md-primary">{{"Service Account"|I18N}}</md-radio-button> </md-radio-group> <div ng-if="$ctrl.data.group1 == 'ServiceAccount'"> <md-input-container md-no-float class="md-block"> <md-select ng-model="$ctrl.newNamespace" aria-label="Selector for containers"> <md-option ng-value="item.metadata.name" ng-repeat="item in $ctrl.namespaceName"> {{item.metadata.name}} </md-option> </md-select> </md-input-container> </div> </div> <br> <div flex="55"> <md-input-container md-no-float class="md-block"> <label><span style="color:red;">*</span>{{"Subject Name"|I18N}}:</label> <input ng-model="$ctrl.subjectName" type="text" name="subjectName" required placeholder="{{'Please input Subject Name'|I18N}}" ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error" ng-messages="create_form.subjectName.$error"> <div ng-message="required">{{"Please input Subject Name"|I18N}}</div> <div ng-message="maxlength">{{"Subject Name no more than 30 characters"|I18N}}</div> <div ng-message="pattern">{{"Please input English and numbers"|I18N}}</div> </div> </md-input-container> </div> </div> <div flex="100" class="border-top"></div> <div class="co-m-btn-bar"> <md-button ng-disabled="create_form.name.$invalid || create_form.subjectName.$invalid " ng-click="$ctrl.createResource(
							$ctrl.roleBindingName,$ctrl.appNamespace,$ctrl.appRole,$ctrl.data.group1,$ctrl.newNamespace,$ctrl.subjectName)" class="btn btn-success"> {{"Create Binding"|I18N}} </md-button> <a ui-sref="rolebinding"> <button class="btn btn-success">{{"Cancel"|I18N}}</button> </a> </div> </div> </form> </md-tab-body> </md-tab> <md-tab> <md-tab-label>{{"Create Cluster Role Binding"|I18N}}</md-tab-label> <md-tab-body> <form ng-cloak name="create_rolebinding_form" class="c-rolebinding"> <div layout="row" layout-wrap> <div flex="20"> <h3 class="rolebinding-title">{{"Role Bindings"|I18N}}</h3> </div> <div flex="80" layout="row" layout-wrap> <div flex="55"> <md-input-container class="md-block" flex-gt-sm> <label><span style="color:red;">*</span>{{"Name"|I18N}}:</label> <input ng-model="$ctrl.clusterroleBindingName" type="text" name="clustername" required placeholder="{{'Please input Cluster Role binding name'|I18N}}" ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error" ng-messages="create_rolebinding_form.clustername.$error"> <div ng-message="required">{{"Please input Cluster Role binding name"|I18N}}</div> <div ng-message="maxlength">{{"Cluster Role binding name no more than 30 characters"|I18N}}</div> <div ng-message="pattern">{{"Please input English and numbers"|I18N}}</div> </div> </md-input-container> </div> <div flex="55"> </div> </div> <div flex="100" class="border-top"></div> <div flex="20"> <h3 class="rolebinding-title">{{"Role"|I18N}}</h3> </div> <div flex="80" layout="row" layout-wrap> <div flex="55"> <md-input-container md-no-float class="md-block"> <label>{{"Role Name"|I18N}}:</label> <md-select ng-model="$ctrl.appclusterRole" aria-label="Selector for containers"> <md-option ng-value="item.metadata.name" ng-repeat="item in $ctrl.clusterRoleArr"> <span class="label label-Role">CR</span> {{item.metadata.name}} </md-option> </md-select> </md-input-container> </div> </div> <div flex="100" class="border-top"></div> <div flex="20"> <h3 class="rolebinding-title">{{"Subject"|I18N}}</h3> </div> <div flex="80"> <div flex="55"> <md-radio-group ng-model="$ctrl.data.group2"> <md-radio-button value="User" class="md-primary">{{"User"|I18N}}</md-radio-button> <md-radio-button value="Group" class="md-primary"> {{"Group"|I18N}} </md-radio-button> <md-radio-button value="ServiceAccount" class="md-primary">{{"Service Account"|I18N}}</md-radio-button> </md-radio-group> <div ng-if="$ctrl.data.group2 == 'ServiceAccount'"> <md-input-container md-no-float class="md-block"> <md-select ng-model="$ctrl.newclusterNamespace" aria-label="Selector for containers"> <md-option ng-value="item.metadata.name" ng-repeat="item in $ctrl.namespaceName"> {{item.metadata.name}} </md-option> </md-select> </md-input-container> </div> </div> <br> <div flex="55"> <md-input-container md-no-float class="md-block"> <label><span style="color:red;">*</span>{{"Subject Name"|I18N}}:</label> <input ng-model="$ctrl.clustersubjectName" type="text" name="clustersubjectName" required placeholder="{{'Please input Subject Name'|I18N}}" ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error" ng-messages="create_rolebinding_form.clustersubjectName.$error"> <div ng-message="required">{{"Please input Subject Name"|I18N}}</div> <div ng-message="maxlength">{{"Subject Name no more than 30 characters"|I18N}}</div> <div ng-message="pattern">{{"Please input English and numbers"|I18N}}</div> </div> </md-input-container> </div> </div> <div flex="100" class="border-top"></div> <div class="co-m-btn-bar"> <md-button ng-disabled="create_rolebinding_form.clustername.$invalid || create_rolebinding_form.clustersubjectName.$invalid " ng-click="$ctrl.createclusterResource(
							$ctrl.clusterroleBindingName,$ctrl.appclusterRole,$ctrl.data.group2,$ctrl.newclusterNamespace,$ctrl.clustersubjectName)" class="btn btn-success"> {{"Create Binding"|I18N}} </md-button> <a ui-sref="rolebinding"> <button class="btn btn-success">{{"Cancel"|I18N}}</button> </a> </div> </div> </form> </md-tab-body> </md-tab> </md-tabs> </md-card>
<md-dialog aria-label="Deploying a service instance" class="md-dialog-new" style="width:680px;"> <form ng-cloak name="instance_form"> <md-dialog-header> <h2 class="md-title"> {{"Deploying a service instance"|I18N}} </h2> </md-dialog-header> <md-dialog-content> <div class="catalog-form" layout="row" layout-wrap> <div flex="100"> <md-input-container class="md-icon-float md-block"> <label>部署实例名称</label> <input ng-model="$ctrl.appName" type="text" name="name" required placeholder="{{'Please enter a name'|I18N}}" ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error" ng-messages="instance_form.name.$error"> <div ng-message="required">{{"Please enter a name"|I18N}}</div> <div ng-message="maxlength">{{"The name is not more than 30 characters"|I18N}}</div> <div ng-message="pattern">{{"Please enter the lowercase English and number"|I18N}}</div> </div> </md-input-container> </div> <div flex="100"> <md-input-container class="md-icon-float md-block"> <label>{{"NAMESPACE"|I18N}}</label> <md-select style="padding-left:0;" ng-model="$ctrl.obj.appNamespace" aria-label="Selector for containers"> <md-option ng-value="item.metadata.name" ng-repeat="item in $ctrl.obj.nameSpace"> {{item.metadata.name}} </md-option> </md-select> </md-input-container> </div> <div flex="100"> <h3 style="padding-left: 10px;font-size: 12px;color: #999;margin-top: 30px;">{{"Service Name"|I18N}}</h3> <md-input-container class="md-block m-a-0" flex-gt-xs> <input ng-model="$ctrl.obj.selectService" aria-label="app name" disabled="disabled"> </md-input-container> </div> <div flex="100"> <md-input-container class="md-icon-float md-block"> <label>{{"PLAN NAME"|I18N}}</label> <md-select style="padding-left:0;" ng-model="$ctrl.obj.selectPlan" aria-label="Selector for containers"> <md-option ng-value="plan.name" ng-repeat="plan in $ctrl.obj.planArray"> {{plan.name}} </md-option> </md-select> </md-input-container> </div> <div flex="100"> <label style="font-size: 14px;padding-top: 20px;display: inline-block;">{{"CERTIFICATE"|I18N}}</label> <a href="javascript:;" ng-click="$ctrl.addEnvironmentMap($index)" class=""><i class="icon-plus-line fa-fw"></i></a> <div class="form-group" ng-repeat="env in $ctrl.obj.environmentMaps track by $index"> <label class="col-md-3 control-label">&nbsp;</label> <div class="col-md-8"> <span class="f12" style="width: 80px;display: inline-block;">&nbsp;</span> <input class="md-block input-text" input type="text" style="width: 180px;" ng-model="env.envKey" name="key{{$index}}" required placeholder="{{'NAME'|I18N}}" ng-maxlength="300"> <span>：</span> <input class="md-block input-text" input type="text" style="width: 180px;" ng-model="env.envValue" name="key{{$index}}" required placeholder="{{'CONTENT'|I18N}}" ng-maxlength="300"> <a href="javascript:;" ng-click="$ctrl.delEnvironmentMap($index)" class=""><i class="icon-minus-line"></i></a> </div> </div> </div> </div> </md-dialog-content> <md-dialog-actions layout="row"> <span flex></span> <md-button ng-click="$ctrl.cancel()" class="btncancel btn-link"> {{"Cancel"|I18N}} </md-button> <md-button class="btn btn-success" ng-disabled="instance_form.name.$invalid" ng-click="$ctrl.answer($ctrl.appName,$ctrl.obj.appNamespace,$ctrl.obj.selectService,$ctrl.obj.selectPlan,$ctrl.obj.environmentMaps)"> {{"create"|I18N}} </md-button> </md-dialog-actions> </form> </md-dialog>
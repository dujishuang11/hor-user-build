<md-card> <md-toolbar class="md-table-toolbar"> <div class="md-toolbar-tools md-toobar-tools-default"> <h2> <div layout="row"> <div> <span class="m-t-md">服务市场</span> </div> <div flex></div> </div> </h2> </div> </md-toolbar> <md-tabs md-selected="$ctrl.selectedIndex"> <md-tab> <md-tab-label>应用目录</md-tab-label> <md-tab-body> <md-card-content> <div layout="row"> <div class="catalog-select"> <span class="catalog-select-name">应用分类</span> <md-select ng-model="$ctrl.selectedType" class="md-no-underline" aria-label="$ctrl.selectedType"> <md-option ng-value="::$ctrl.allTypes" ng-click="$ctrl.changeType('all')">{{"All"|I18N}}</md-option> <md-option ng-value="item.label" ng-repeat="item in $ctrl.chartTypeList" ng-click="$ctrl.changeType(item)">{{item.label}}</md-option> </md-select> </div> <p class="localdics-text">{{"There are"|I18N}} {{applocalDics.length}} {{"applications now"|I18N}}，&nbsp;&nbsp;查看 <span> <a ui-sref="appdeployed">已部署应用</a> </span> </p> <div flex></div> <div class="catalog-select"> <span class="catalog-select-name">类型</span> <md-select ng-model="$ctrl.selectedRepo" class="md-no-underline" aria-label="$ctrl.selectedRepo"> <md-option ng-value="::$ctrl.allRepos" ng-click="$ctrl.changeRepo('all')">{{"All Repos"|I18N}}</md-option> <md-option ng-value="item.name" ng-repeat="item in $ctrl.appCatalogRepoList" ng-click="$ctrl.changeRepo(item)">{{item.name}}</md-option> </md-select> </div> <div> <span class="catalog-search" style="margin-left:10px;"> <i class="icon-search" style="top:5px;"></i> <input type="text" ng-model="$ctrl.selectedAppTypeName" placeholder="{{'Search'|I18N}}..." style="padding: 0 0 0 30px;margin-top: 22px;height: 33px;"> </span> </div> </div> <div layout="row" layout-wrap class="catalog"> <div flex="20" ng-repeat="(key, value) in $ctrl.appCatalogChartsList | filter:{keywords:$ctrl.selectedKey, name:$ctrl.selectedAppTypeName, repo:$ctrl.selectedRepoName} as applocalDics" ng-if="$ctrl.appCatalogChartsList.length != 0"> <div class="catalog-list text-center"> <div class="catalog-list-img"> <img ng-if="value.icon != undefined" data-ng-src="{{value.icon}}"> <img ng-if="value.icon == undefined" data-ng-src="img/failimg.png"> </div> <h3 class="catalog-list-name"> <div class="name-overflow catalog-name-overflow"> <span> {{value.name}} </span> <md-tooltip md-direction="bottom"> {{value.name}} </md-tooltip> </div> <span class="repo-label">{{value.repo}}</span> </h3> <p class="catalog-list-description">{{value.desI18N}}</p> <md-button class="md-raised md-primary catalog-list-btn" ng-click="$ctrl.goToCatalogDetail(value.name,value.repo)">{{"View Details"|I18N}}</md-button> </div> </div> <div ng-if="applocalDics.length === 0" flex="100"> <hor-notingstate></hor-notingstate> </div> </div> </md-card-content> </md-tab-body> </md-tab> <md-tab> <md-tab-label>服务目录</md-tab-label> <md-tab-body> <md-card-content> <div layout="row"> <div style="margin-top:20px;"> <a ng-click="$ctrl.addService(event)"> <button class="btn btn-success m-t-md" style="height:35px;">添加服务代理</button> </a> </div> <p class="localdics-text">{{"There are"|I18N}} {{localDics.length}} {{"services now"|I18N}}</p> <div flex></div> <div class="catalog-select"> <span class="catalog-select-name">{{"Types"|I18N}}</span> <md-select ng-model="$ctrl.selectedType" class="md-no-underline" aria-label="$ctrl.selectedType"> <md-option ng-value="::$ctrl.allTypes" ng-click="$ctrl.changeType('all')">{{"All Repos"|I18N}}</md-option> <md-option ng-value="item.id" ng-repeat="item in $ctrl.borkerSelect" ng-click="$ctrl.changeType(item)">{{item.id}}</md-option> </md-select> </div> <div> <span class="catalog-search" style="margin-left:10px;"> <i class="icon-search" style="top:5px;"></i> <input type="text" ng-model="$ctrl.selectedTypeName" placeholder="{{'Search'|I18N}}..." style="padding: 0 0 0 30px;margin-top: 22px;height: 33px;"> </span> </div> </div> <div layout="row" layout-wrap class="catalog managements"> <div flex="20" ng-repeat="value in $ctrl.brokerData | filter:{keywords:$ctrl.selectedKey,name:$ctrl.selectedTypeName} as localDics" ng-if="$ctrl.brokerData.length != 0"> <div class="catalog-list text-center"> <div class="catalog-list-img"> <img ng-if="value.icon != undefined" data-ng-src="{{value.icon}}"> <img ng-if="value.icon == undefined" data-ng-src="img/failimg.png"> </div> <h3 class="catalog-list-name"> <div ng-switch="value.status" style="display: inline-block;"> <span ng-switch-when="True" class="text-success"> <i class="icon-checkmark-circle"></i>{{"Normal"|I18N}} </span> <span ng-switch-when="False" tooltip-placement="bottom" uib-tooltip="{{item.Broker.status.conditions[0].reason}}{{item.Broker.status.conditions[0].message}}" class="text-danger"> <i class="icon-cancel-circle"></i>{{"Error"|I18N}} </span> <span ng-switch-when="Unknown" tooltip-placement="bottom" uib-tooltip="{{item.Broker.status.conditions[0].reason}}{{item.Broker.status.conditions[0].message}}" class="text-danger"> <i class="icon-cancel-circle"></i>{{"Unknown"|I18N}} </span> </div> <br> <div class="name-overflow catalog-name-overflow"> <span> {{value.name}} </span> <md-tooltip md-direction="bottom"> {{value.name}} </md-tooltip> </div> </h3> <p class="catalog-list-description"> <span> {{value.url}} </span> <md-tooltip md-direction="bottom"> {{value.url}} </md-tooltip> </p> <div layout="row" style="width: 167px;margin: 15px auto 0;"> <md-button class="btn btn-success" ng-click="$ctrl.getDetailHref(value.name)"> {{"View Details"|I18N}} </md-button>&nbsp; <md-button class="btn btn-default" ng-click="$ctrl.deleteService(event,value)"> {{"Delete"|I18N}} </md-button> </div> </div> </div> <div ng-if="$ctrl.brokerData.length === 0" flex="100"> <hor-notingstate></hor-notingstate> </div> </div> </md-card-content> </md-tab-body> </md-tab> </md-tabs> </md-card>
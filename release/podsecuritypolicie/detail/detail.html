<div class="detail-tit" layout="flex"> <div><span class="label label-PersistentVolume">PSP</span> {{$ctrl.data.metadata.name | limitTo :40}} <span ng-if="$ctrl.data.metadata.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.data.name.length >40"> {{$ctrl.data.metadata.name}} </md-tooltip>  </div><span flex></span> <md-menu> <md-button aria-label="Open demo menu" class="md-button btn-default m-a-0" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin> <i class="icon-set f12"></i> {{"Actions"|I18N}} <i class="icon-arrow-down-sm f12"></i> </md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.showEditDialog(event)" aria-label="Edit"> <span md-menu-align-target>{{"Edit Pod Security Policy"|I18N}}</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showDeleteDialog(event, $ctrl.data)" aria-label="Delete"> <span md-menu-align-target>{{"Delete Pod Security Policy"|I18N}}</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <md-card> <md-tabs md-selected="$ctrl.selectedIndex"> <md-tab> <md-tab-label>{{"Overview"|I18N}}</md-tab-label> <md-tab-body> <div layout="flex" layout-wrap class="overviewDetail"> <div flex="40"> <label>{{"NAME"|I18N}}</label> {{$ctrl.data.metadata.name | limitTo :40}} <span ng-if="$ctrl.pvcDetailValue.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.data.metadata.name.length >40"> {{$ctrl.data.metadata.name}} </md-tooltip> </div> <div flex="40"> <label style="max-width:133px;width:133px;">{{"SELINUX"|I18N}}</label> {{$ctrl.data.spec.seLinux.rule}} </div> <div flex="40"> <label>{{"RUNASUSER"|I18N}}</label> {{$ctrl.data.spec.runAsUser.rule}} </div> <div flex="40"> <label style="max-width:133px;width:133px;">{{"SUPPLEMENTALGROUPS"|I18N}}</label> {{$ctrl.data.spec.supplementalGroups.rule}} </div> <div flex="40"> <label>{{"FSGROUP"|I18N}}</label> {{$ctrl.data.spec.fsGroup.rule}} </div> <div flex="40"> <label style="max-width:133px;width:133px;">{{"CREATED AT"|I18N}}</label> <span> {{$ctrl.data.metadata.creationTimestamp | date:'yyyy/MM/dd HH:mm'}} <md-tooltip md-direction="bottom"> {{"Create at"|I18N}} {{$ctrl.data.metadata.creationTimestamp | date:'yyyy/MM/dd HH:mm'}} </md-tooltip> </span> </div> </div> </md-tab-body> </md-tab> <md-tab> <md-tab-label>{{"Edit"|I18N}}</md-tab-label> <md-tab-body> <md-tabs class="pspedit-tab"> <md-tab> <md-tab-label>{{"configuration parameter"|I18N}}</md-tab-label> <md-tab-body> <form ng-cloak name="create_form" class="creatpsp"> <div layout="row" layout-wrap> <div flex="50"> <div> <md-input-container class="md-block" flex-gt-xs> <label class="label-title">{{"Name"|I18N}}:</label> <input ng-model="$ctrl.pspName" disabled="disabled"> </md-input-container> </div> <div> <label class="label-title"> <span style="color:red;">*</span>{{"Volumes"|I18N}}: </label> <md-select ng-model="$ctrl.selectedVegetables" md-on-close="$ctrl.clearSearchTerm()" data-md-container-class="selectdemoSelectHeader" aria-label="Select" multiple="multiple"> <md-optgroup label="Volumes"> <md-checkbox ng-model="$ctrl.allCheck" aria-label="Checkbox 1" ng-click="$ctrl.searchFeatured($ctrl.allCheck)"> Check all </md-checkbox> <md-option ng-value="item" ng-repeat="item in $ctrl.items |filter:searchTerm" ng-click="$ctrl.optionData(item,$ctrl.allCheck) "> {{item}} </md-option> </md-optgroup> </md-select> </div> <div class="creatpsp-bg"> <label class="label-title"> <span style="color:red;">*</span> {{"RunAsUser"|I18N}}: </label> <md-radio-group ng-model="$ctrl.group.group1"> <md-radio-button value="RunAsAny" class="md-primary"> {{"RunAsAny"|I18N}} </md-radio-button> <md-radio-button value="MustRunAs" class="md-primary"> {{"MustRunAs"|I18N}} </md-radio-button> <md-radio-button value="MustRunAsNonRoot" class="md-primary"> {{"MustRunAsNonRoot"|I18N}} </md-radio-button> </md-radio-group> <div ng-if="$ctrl.group.group1 == 'MustRunAs'" class="creatpsp-child"> <label class="label-title"> {{"Ranges"|I18N}}: <a href="javascript:;" ng-click="$ctrl.addEnvironmentMap($index)" class=""> <i class="icon-plus-line fa-fw"></i> </a> </label> <div class="form-group" ng-repeat="env in $ctrl.environmentMaps track by $index"> <label class="label-title">&nbsp;</label> <div class="col-md-8"> <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.min" name="key{{$index}}" required placeholder="{{'Please enter the minimum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> &nbsp; <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.max" name="key{{$index}}" required placeholder="{{'Please enter the maximum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> <a href="javascript:;" ng-click="$ctrl.delEnvironmentMap($index)" class=""> <i class="icon-minus-line"></i></a> </div> </div> </div> </div> <div class="creatpsp-bg"> <label class="label-title"> <span style="color:red;">*</span>{{"SELinux"|I18N}}: </label> <md-radio-group ng-model="$ctrl.group.group2"> <md-radio-button value="RunAsAny" class="md-primary">{{"RunAsAny"|I18N}}</md-radio-button> <md-radio-button value="MustRunAs" class="md-primary">{{"MustRunAs"|I18N}}</md-radio-button> </md-radio-group> <div ng-if="$ctrl.group.group2 == 'MustRunAs'" class="creatpsp-child"> <label class="label-title"> {{"seLinuxOptions"|I18N}}: </label> <div class="form-group"> <label class="col-md-3 control-label">&nbsp;</label> <div layout="row" layout-wrap class="seLinuxOptions-input"> <div flex="50"> <md-input-container class="md-block" flex-gt-sm> <label class="label-title">{{"sel_user"|I18N}}:</label> <input ng-model="$ctrl.seLinuxOptions.user" type="text" name="user" required placeholder="{{'sel_user'|I18N}}"> </md-input-container> </div> <div flex="50"> <md-input-container class="md-block" flex-gt-sm> <label class="label-title">{{"sel_role"|I18N}}:</label> <input ng-model="$ctrl.seLinuxOptions.role" type="text" name="role" required placeholder="{{'sel_role'|I18N}}"> </md-input-container> </div> <div flex="50"> <md-input-container class="md-block" flex-gt-sm> <label class="label-title">{{"sel_type"|I18N}}:</label> <input ng-model="$ctrl.seLinuxOptions.type" type="text" name="type" required placeholder="{{'sel_type'|I18N}}"> </md-input-container> </div> <div flex="50"> <md-input-container class="md-block" flex-gt-sm> <label class="label-title">{{"sel_level"|I18N}}:</label> <input ng-model="$ctrl.seLinuxOptions.level" type="text" name="level " required placeholder="{{'sel_level'|I18N}}"> </md-input-container> </div> </div> </div> </div> </div> <div class="creatpsp-bg"> <label class="label-title"> <span style="color:red;">*</span>{{"SupplementalGroups"|I18N}}:</label> <md-radio-group ng-model="$ctrl.group.group3"> <md-radio-button value="RunAsAny" class="md-primary">{{"RunAsAny"|I18N}}</md-radio-button> <md-radio-button value="MustRunAs" class="md-primary">{{"MustRunAs"|I18N}}</md-radio-button> </md-radio-group> <div ng-if="$ctrl.group.group3 == 'MustRunAs'" class="creatpsp-child"> <label class="label-title"> {{"Ranges"|I18N}}: <a href="javascript:;" ng-click="$ctrl.addSuppleMap($index)" class=""> <i class="icon-plus-line fa-fw"></i> </a> </label> <div class="form-group" ng-repeat="env in $ctrl.suppleMaps track by $index"> <label class="label-title">&nbsp;</label> <div class="col-md-8"> <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.min" name="key{{$index}}" required placeholder="{{'Please enter the minimum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> &nbsp; <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.max" name="key{{$index}}" required placeholder="{{'Please enter the maximum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> <a href="javascript:;" ng-click="$ctrl.delSuppleMap($index)" class=""> <i class="icon-minus-line"></i></a> </div> </div> </div> </div> <div class="creatpsp-bg"> <label class="label-title"> <span style="color:red;">*</span>{{"FSGroup"|I18N}}:</label> <md-radio-group ng-model="$ctrl.group.group4"> <md-radio-button value="RunAsAny" class="md-primary">{{"RunAsAny"|I18N}}</md-radio-button> <md-radio-button value="MustRunAs" class="md-primary">{{"MustRunAs"|I18N}}</md-radio-button> </md-radio-group> <div ng-if="$ctrl.group.group4 == 'MustRunAs'" class="creatpsp-child"> <label class="label-title"> {{"Ranges"|I18N}}: <a href="javascript:;" ng-click="$ctrl.addFstMap($index)" class=""> <i class="icon-plus-line fa-fw"></i> </a> </label> <div class="form-group" ng-repeat="env in $ctrl.fsMaps track by $index"> <label class="label-title">&nbsp;</label> <div class="col-md-8"> <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.min" name="key{{$index}}" required placeholder="{{'Please enter the minimum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> &nbsp; <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.max" name="key{{$index}}" required placeholder="{{'Please enter the maximum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> <a href="javascript:;" ng-click="$ctrl.delFstMap($index)" class=""> <i class="icon-minus-line"></i></a> </div> </div> </div> </div> </div> <div flex="50"> <div> <label class="label-title">{{"AllowPrivilegeEscalation"|I18N}}:</label> <form name="fruitForm"> <md-chips ng-model="$ctrl.allowedCapabilities" name="allowedCapabilities" readonly="$ctrl.readonly" md-transform-chip="$ctrl.onTransformCb($chip)" md-removable="$ctrl.removable" placeholder="app=frontend"> </md-chips> <div ng-messages="$ctrl.modifyLabelsForm.resourceObjLabels.$error"> <div ng-message="required">{{"This is required."|I18N}}</div> <div ng-message="md-maxlength">{{"The description must be less than 30 characters long."|I18N}}</div> </div> </form> </div> <div> <label class="label-title">{{"DefaultAllowPrivilegeEscalation"|I18N}}:</label> <form name="fruitForm"> <md-chips ng-model="$ctrl.defaultAddCapabilities " name="defaultAddCapabilities " readonly="$ctrl.readonly" md-transform-chip="$ctrl.onTransformCb($chip)" md-removable="$ctrl.removable" placeholder="app=frontend"> </md-chips> <div ng-messages="$ctrl.modifyLabelsForm.resourceObjLabels.$error"> <div ng-message="required">{{"This is required."|I18N}}</div> <div ng-message="md-maxlength">{{"The description must be less than 30 characters long."|I18N}}</div> </div> </form> </div> <div> <label class="label-title">{{"RequiredDropCapabilities"|I18N}}:</label> <form name="fruitForm"> <md-chips ng-model="$ctrl.requiredDropCapabilities" name="requiredDropCapabilities" readonly="$ctrl.readonly" md-transform-chip="$ctrl.onTransformCb($chip)" md-removable="$ctrl.removable" placeholder="app=frontend"> </md-chips> <div ng-messages="$ctrl.modifyLabelsForm.resourceObjLabels.$error"> <div ng-message="required">{{"This is required."|I18N}}</div> <div ng-message="md-maxlength">{{"The description must be less than 30 characters long."|I18N}}</div> </div> </form> </div> <div class="creatpsp-bg"> <md-input-container class="md-block" flex-gt-sm> <md-switch ng-model="$ctrl.listObj.cb1" aria-label="Switch 1" class="md-primary">{{"ReadOnlyRootFilesystem"|I18N}}: {{$ctrl.listObj.cb1|I18N}}</md-switch> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <md-switch ng-model="$ctrl.listObj.cb2" aria-label="Switch 1" class="md-primary">{{"Privileged"|I18N}}: {{$ctrl.listObj.cb2|I18N}}</md-switch> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <md-switch ng-model="$ctrl.listObj.cb3" aria-label="Switch 1" class="md-primary">{{"hostPID"|I18N}}: {{$ctrl.listObj.cb3|I18N}}</md-switch> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <md-switch ng-model="$ctrl.listObj.cb4" aria-label="Switch 1" class="md-primary">{{"hostIPC"|I18N}}: {{$ctrl.listObj.cb4|I18N}}</md-switch> </md-input-container> </div> <div class="creatpsp-bg"> <label class="label-title">{{"HostPorts"|I18N}}: <a href="javascript:;" ng-click="$ctrl.addHostPort($index)" class=""> <i class="icon-plus-line fa-fw"></i> </a> </label> <div class="form-group" ng-repeat="env in $ctrl.hostPorts track by $index"> <label class="col-md-3 control-label">&nbsp;</label> <div class="col-md-8"> <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.min" name="key{{$index}}" required placeholder="{{'Please enter the minimum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> &nbsp; <input class="md-block input-text" input type="number" style="width: 180px;" ng-model="env.max" name="key{{$index}}" required placeholder="{{'Please enter the maximum'|I18N}}" ng-maxlength="300" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')"> <a href="javascript:;" ng-click="$ctrl.delHostPort($index)" class=""> <i class="icon-minus-line"></i> </a> </div> </div> </div> </div> <div flex="100" class="border-top"></div> <div flex="100" class="co-m-btn-bar text-center m-t-md"> <md-button ng-disabled="create_form.name.$invalid " ng-click="$ctrl.createYml()" class="btn btn-success">{{"Save Change"|I18N}}</md-button> <a ui-sref="podsecuritypolicie"> <button class="btn btn-default">{{"Cancel"|I18N}}</button></a> </div> </div> </form> </md-tab-body> </md-tab> <md-tab> <md-tab-label>{{"YAML"|I18N}}</md-tab-label> <md-tab-body> <section class="yaml" style="height: calc(100vh - 263px);"> <div auto-height ui-ace="$ctrl.aceOption" ng-model="$ctrl.aceModel"></div> </section> <div class="yaml-btn"> <md-button ng-click="$ctrl.saveChange()" class="btn btn-success">{{"Save Change"|I18N}}</md-button> <md-button ng-click="$ctrl.reload()" class="btn btn-default">{{"Reload"|I18N}} </md-button> </div> </md-tab-body> </md-tab> </md-tabs> </md-tab-body> </md-tab> </md-tabs> </md-card>
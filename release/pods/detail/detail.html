<div class="detail-tit" ng-if="$ctrl.editFlag"> <i class="icon-block-two"></i>{{$ctrl.podDetail.Pod.metadata.name}} <div class="detail-tit-btn"> <md-button ng-click="$ctrl.updatePod($event)"><i class="icon-create"></i>编辑</md-button> <md-button ng-click="$ctrl.deletePod($event)"><i class="icon-trashcan"></i>删除</md-button> </div> </div> <md-card> <md-tabs> <md-tab label="详情"> <md-tab-body> <div class="detail-con"> <h5>详情</h5> <ol> <dl> <dt>名称：</dt> <dd>{{$ctrl.podDetail.Pod.metadata.name}}</dd> <dd ng-hide="$ctrl.podDetail.Pod.metadata.name">-</dd> </dl> </ol> <ol> <dl> <dt>命名空间：</dt> <dd>{{$ctrl.podDetail.Pod.metadata.namespace}}</dd> <dd ng-hide="$ctrl.podDetail.Pod.metadata.namespace">-</dd> </dl> </ol> <ol ng-if="$ctrl.podDetail.Pod.metadata.labels"> <dl> <dt>标签：</dt> <dd> <span ng-repeat="(key, value) in $ctrl.podDetail.Pod.metadata.labels" class="label-default"> {{::key}}: {{::value}} </span> </dd> </dl> </ol> <ol ng-if="$ctrl.podController.objectMeta.name"> <dl> <dt>注释：</dt> <dd> <a ng-href="{{$ctrl.getrReplicaSetDetailHref($ctrl.podController.objectMeta.namespace,
										$ctrl.podController.objectMeta.name)}}"> {{$ctrl.podController.objectMeta.name}}</a> </dd> </dl> </ol> <ol> <dl> <dt>创建时间：</dt> <dd>{{$ctrl.podDetail.Pod.metadata.creationTimestamp | date}}</dd> </dl> </ol> <ol> <dl> <dt>状态：</dt> <dd>{{$ctrl.podDetail.Pod.status.phase}}</dd> </dl> </ol> <h5>Network</h5> <ol> <dl> <dt>Node：</dt> <dd> <a ng-href="{{$ctrl.getNodeDetailHref($ctrl.podDetail.Pod.spec.nodeName)}}"> {{$ctrl.podDetail.Pod.spec.nodeName}}</a> </dd> </dl> </ol> <ol> <dl> <dt>IP：</dt> <dd>{{$ctrl.podDetail.Pod.status.podIP}}</dd> </dl> </ol> <ol ng-if="$ctrl.editFlag"> <dl> <a ng-href="{{$ctrl.getLogDetailHref($ctrl.podDetail.Pod.metadata.namespace,
									$ctrl.podDetail.Pod.metadata.name,$ctrl.containerName)}}"> 查看日志 </a> </dl> </ol> </div> </md-tab-body> </md-tab> <md-tab label="条件"> <md-table-container> <table md-table multiple="multiple" ng-model="$ctrl.selected" md-progress="promise"> <thead md-head> <tr md-row> <th md-column><span>类型</span></th> <th md-column><span>状态</span></th> <th md-column><span>最后一次心跳的时间</span></th> <th md-column><span>最后的过渡时间</span></th> <th md-column><span>原因</span></th> <th md-column><span>信息</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="items in $ctrl.conditions"> <td md-cell>{{items.type}}</td> <td md-cell>{{items.status}}</td> <td md-cell> <span ng-if="items.lastProbeTime"> {{items.lastProbeTime | relativeTime}} </span> <span ng-hide="items.lastProbeTime">-</span> </td> <td md-cell>{{items.lastTransitionTime | relativeTime}}</td> <td md-cell> {{items.reason}} <span ng-hide="items.reason">-</span> </td> <td md-cell> {{items.message}} <span ng-hide="items.message">-</span> </td> </tr> </tbody> </table> </md-table-container> </md-tab> <md-tab label="创建"> <div ng-if="!$ctrl.podController.objectMeta.name"> <hor-notingstate></hor-notingstate> </div> <md-table-container ng-if="$ctrl.podController.objectMeta.name"> <table md-table multiple="multiple" ng-model="$ctrl.selected" md-progress="promise"> <thead md-head> <tr md-row> <th md-column><span></span></th> <th md-column><span>名称</span></th> <th md-column><span>方式</span></th> <th md-column><span>标签</span></th> <th md-column><span>节点</span></th> <th md-column><span>时长</span></th> <th md-column><span>镜像</span></th> <th md-column ng-if="$ctrl.editFlag"><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row> <td md-cell> <md-icon class="failed icon" ng-if="$ctrl.hasWarnings()"> <md-tooltip>警告</md-tooltip> </md-icon> <md-icon class="pending icon" ng-if="$ctrl.isPending()"> <md-tooltip>等待</md-tooltip> </md-icon> <md-icon class="success icon" ng-if="$ctrl.isSuccess()"> <md-tooltip>成功</md-tooltip> </md-icon> </td> <td md-cell ng-if="$ctrl.podController.typeMeta.kind=='replicaset'"> <a ng-href="{{$ctrl.getrReplicaSetDetailHref($ctrl.podController.objectMeta.namespace,
										$ctrl.podController.objectMeta.name)}}"> {{$ctrl.podController.objectMeta.name}} </a> </td> <td md-cell ng-if="$ctrl.podController.typeMeta.kind=='replicationcontroller'"> <a ng-href="
									{{$ctrl.getReplicationcontrollerDetailHref($ctrl.podController.objectMeta.namespace,
										$ctrl.podController.objectMeta.name)}}"> {{$ctrl.podController.objectMeta.name}} </a> </td> <td md-cell ng-if="$ctrl.podController.typeMeta.kind=='daemonset'"> <a ng-href="
									{{$ctrl.getDaemonsetDetailHref($ctrl.podController.objectMeta.namespace,
										$ctrl.podController.objectMeta.name)}}"> {{$ctrl.podController.objectMeta.name}} </a> </td> <td md-cell ng-if="$ctrl.podController.typeMeta.kind=='job'"> <a ng-href="
									{{$ctrl.getJobDetailHref($ctrl.podController.objectMeta.namespace,
										$ctrl.podController.objectMeta.name)}}"> {{$ctrl.podController.objectMeta.name}} </a> </td> <td md-cell ng-if="$ctrl.podController.typeMeta.kind=='statefulset'"> <a ng-href="
									{{$ctrl.getStatefulsetDetailHref($ctrl.podController.objectMeta.namespace,
										$ctrl.podController.objectMeta.name)}}"> {{$ctrl.podController.objectMeta.name}} </a> </td> <td md-cell>{{$ctrl.podController.typeMeta.kind}}</td> <td md-cell> <span ng-repeat="(key, value) in 
									$ctrl.podController.objectMeta.labels" class="label-default"> {{key}}:{{value}} </span> </td> <td md-cell> {{$ctrl.podController.pods.current}} / {{$ctrl.podController.pods.running}} </td> <td md-cell> {{$ctrl.podController.objectMeta.creationTimestamp| relativeTime}} </td> <td md-cell> <span ng-repeat="(key, value) in 
									$ctrl.podController.containerImages" class="label-default"> {{value}} </span> </td> <td md-cell ng-if="$ctrl.editFlag"> <div class="detail-tit-btn"> <md-menu> <md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="$ctrl.openMenu($mdMenu, $event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> <md-tooltip>操作</md-tooltip> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.showReplicaSetEditDialog($event,$ctrl.podController.objectMeta.namespace,$ctrl.podController.objectMeta.name)" aria-label="Edit"> 编辑 </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.showReplicaSetDeleteDialog($event,$ctrl.podController.objectMeta.namespace,$ctrl.podController.objectMeta.name)" aria-label="Delete"> 删除 </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </td> </tr> </tbody> </table> </md-table-container> </md-tab> <md-tab label="事件"> <div ng-if="!$ctrl.podEvent"> <hor-notingstate></hor-notingstate> </div> <div ng-if="$ctrl.podEvent" class="detail-con"> <md-table-container ng-if="$ctrl.podEvent"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="query.order"> <tr md-row> <th md-column><span></span></th> <th md-column><span>消息</span></th> <th md-column><span>数据源</span></th> <th md-column><span>子项目</span></th> <th md-column><span>数量</span></th> <th md-column><span>首次上线</span></th> <th md-column><span>最后上线</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.podEvent"> <td md-cell> <div layout="row" ng-switch="item.type"> <md-icon class="success icon" ng-switch-when="Normal"> <md-tooltip>正常</md-tooltip> </md-icon> <md-icon class="failed icon" ng-switch-when="Warning"> <md-tooltip>警告</md-tooltip> </md-icon> </div> </td> <td md-cell> {{item.message}} </td> <td md-cell> {{item.source.host}} </td> <td md-cell ng-if="item.involvedObject.fieldPath"> {{item.involvedObject.fieldPath}} </td> <td md-cell ng-if="!item.involvedObject.fieldPath">-</td> <td md-cell>{{item.count}}</td> <td md-cell>{{item.firstTimestamp| date:'yyyy/MM/dd HH:mm (UTC)'}}</td> <td md-cell>{{item.lastTimestamp| date:'yyyy/MM/dd HH:mm (UTC)'}}</td> </tr> </tbody> </table> </md-table-container> </div> </md-tab> </md-tabs> </md-card> 
<div layout="row" layout-wrap class="ci-content ci-detail"> <div flex="100" layout="row"> <span>1</span> <div flex> <h1 class="ci-detail-title">Etcd node setting</h1> <p class="ci-detail-title-small">A Cluster of storage nodes,can set cluster nodes to etcd nodes</p> </div> </div> <div flex="100"> <div> <div class="creat-tenat"> <div layout="row" layout-wrap> <div flex="30" class="tenat-content" ng-repeat="etcdObj in $ctrl.etcdObjArr"> <form name="etcdForm" id="createForm" novalidate class="Labels-dialog"> <a class="ci-miuns" ng-if="$index > 0" ng-click="$ctrl.deleteNode($index)"><i class="icon-minus-circle"></i></a> <md-input-container md-no-float class="md-block"> <label class="label-title"> Host Name: </label> <input ng-model="etcdObj.hostName" type="text" name="host_name" ng-change="$ctrl.inputChanged($index)" required placeholder="Domain name,byname,or IP" ng-maxlength="63" ng-pattern="/^[0-9a-zA-Z]([0-9a-zA-Z\-\.]*[0-9a-zA-Z])?$/"> <div class="error" ng-messages="etcdForm.host_name.$error"> <div ng-message="required">Please enter the Host name</div> <div ng-message="maxlength">The Host name must not exceed 63 characters</div> <div ng-message="pattern">Please enter the host name in the correct format.</div> </div> </md-input-container> <md-input-container md-no-float class="md-block"> <label class="label-title"> Host IP: </label> <input ng-model="etcdObj.hostIp" type="text" name="host_ip" placeholder="Host static IP and bind byname need to set" ng-pattern="/\d+\.\d+\.\d+\.\d+/"> <div class="error" ng-messages="etcdForm.host_ip.$error"> <div ng-message="pattern">Please enter the IP address in the correct format.</div> </div> </md-input-container> <md-input-container md-no-float class="md-block"> <label class="label-title"> User Name: </label> <input ng-model="etcdObj.userName" type="text" name="user_name" required ng-change="$ctrl.inputChanged($index)" placeholder="The name for login host" ng-maxlength="32" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error" ng-messages="etcdForm.user_name.$error"> <div ng-message="required">Please enter the User Name</div> <div ng-message="maxlength">The User Name must not exceed 32 characters</div> <div ng-message="pattern">Please input English and numbers</div> </div> </md-input-container> <md-input-container md-no-float class="md-block"> <label class="label-title"> Password: </label> <input ng-model="etcdObj.userPassword" placeholder="" type="password" name="user_password"> </md-input-container> <md-input-container md-no-float class="md-block node-upload"> <hor-upload file="etcdObj.cipherCode" form="etcdForm"></hor-upload> </md-input-container> <md-input-container md-no-float class="md-block"> <label class="label-title"> SSH Port: </label> <input ng-model="etcdObj.sshPort" type="text" name="ssh_port" value="22" placeholder="22" ng-maxlength="5" ng-pattern="/^[0-9]*$/"> <div class="error" ng-messages="etcdForm.ssh_port.$error"> <div ng-message="maxlength">The SSH Port must not exceed 5 characters</div> <div ng-message="pattern">Please input numbers</div> </div> </md-input-container> <div ng-show="etcdObj.testConnectionRunning" style="margin-bottom: 20px;margin-top: -20px;"> <md-progress-linear class="md-primary" md-mode="indeterminate" md-diameter="20px"> </md-progress-linear> </div> <md-button class="btn btn-success" ng-disabled="etcdForm.host_name.$invalid || etcdForm.host_ip$invalid ||
                                                etcdForm.user_name.$invalid || etcdForm.ssh_port.$invalid" ng-click="$ctrl.connectionTest(etcdObj, $index)">Connection Test</md-button> <div ng-show="etcdObj.testConnectionResultSuccess" class="testConnectionResult text-success"> <i class="icon-checkmark-line fw"></i> Success </div> <div ng-show="etcdObj.testConnectionResultError" class="testConnectionResult text-danger"> <i class="icon-cancel-line fw"></i> Error </div> </form> </div> </div> </div> </div> <div class="border-top" style="margin:30px 0 0 -80px;"></div> <div class=""> <div class="ci-btn"> <md-button class="btn btn-default" ng-click="$ctrl.addNode()">Add Node</md-button> <md-button class="btn btn-success" ng-disabled="$ctrl.continueDisabled" ng-click="$ctrl.nextStep()"> Continue </md-button> </div> </div> </div> </div>
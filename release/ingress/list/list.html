<md-card> <md-toolbar class="md-table-toolbar"> <md-toolbar> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>负载均衡</h2> </div> </md-toolbar> </md-toolbar> <md-table-container> <div> <div class="table-search"> <div class="table-search-input"> <div layout="row"> <span class="create-btn"> <a ui-sref="ingress.new"> <button class="btn btn-success">新建负载均衡</button> </a> </span> <span flex> <i class="icon-search"></i> <input type="text" placeholder="{{'Filter Ingress | You can search name & labels'|I18N}}" ng-model="$ctrl.globalSearchTerm" ng-change="$ctrl.applyGlobalFilter()" set-focus> </span> </div> </div> </div> <table ng-table="$ctrl.tableParams" class="table-column-5"> <tr ng-repeat="row in $data"> <td data-title="'NAME'|I18N" header-class="'text-left'" sortable="'metadata.name'"> <md-menu> <md-button aria-label="Open demo menu" class="md-icon-button button-inherit" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-set"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.updateService(event, row)" aria-label="编辑"> <span md-menu-align-target>编辑负载均衡配置</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.deleteService(event, row)" aria-label="删除"> <span md-menu-align-target>删除负载均衡</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> <span class="label label-Ingress">I</span> <div class="name-overflow"> <a ng-href="{{$ctrl.getDetailHref(row.metadata.namespace,row.metadata.name)}}">{{row.metadata.name}} </a> <md-tooltip md-direction="bottom"> {{row.metadata.name}} </md-tooltip> </div> </td> <td data-title="'URL'" header-class="'text-right'" sortable="'host'" ng-class="{'labels-block': row.spec.rules.length >1}" style="overflow: visible;"> <div> <div ng-if="row.spec.rules[0].host!=undefined"> <span ng-repeat="item in row.spec.rules"> {{item.host}} </span> <div class="labels-icon labels-text-icon">...</div> </div> <div class="labels-block-hover"> <span ng-repeat="item in row.spec.rules"> {{item.host}} </span> </div> </div> <div ng-if="row.spec.rules[0].host == undefined" class="no-label"> - </div> </td> <td data-title="'路径'" sortable="'namespace'"> <div> <span ng-repeat="item in row.spec.rules"> <span ng-repeat="p in item.http.paths">{{ p.path }}<br></span> </span> <div class="labels-icon labels-text-icon">...</div> </div> <div class="labels-block-hover"> <span ng-repeat="p in item.http.paths"> {{p.path}} </span> </div> </td> <td data-title="'后端服务'" sortable="'namespace'"> <div> <span ng-repeat="item in row.spec.rules"> <span ng-repeat="p in item.http.paths">{{ p.backend.serviceName }}<br></span> </span> <div class="labels-icon labels-text-icon">...</div> </div> <div class="labels-block-hover"> <span ng-repeat="p in item.http.paths"> {{p.backend.serviceName}} </span> </div> </td> <td data-title="'AGE'|I18N" sortable="'creationTimestamp'"> <div class="name-overflow"> {{row.metadata.creationTimestamp | relativeTime}} <md-tooltip md-direction="bottom"> Create at {{row.metadata.creationTimestamp | date:'yyyy/MM/dd HH:mm (UTC)'}} </md-tooltip> </div> </td> </tr> </table> <div ng-if="$ctrl.ingressList.items.length==0" class="detail-con-null detail-con-nothing"> <hor-notingstate></hor-notingstate> </div> </div> </md-table-container> </md-card>
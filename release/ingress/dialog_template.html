<md-dialog aria-label=""> <form ng-cloak> <md-toolbar> <div class="md-toolbar-tools"> <h2>编辑 Ingresses</h2> <span flex></span> </div> </md-toolbar> <md-dialog-content> <div layout="flex" layout-wrap class="overviewDetail"> <div flex="100"> <label>{{"NAME"|I18N}}</label> {{$ctrl.ingressData.metadata.name | limitTo :30}} <span ng-if="$ctrl.ingressData.metadata.name.length >30">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.ingressData.metadata.name.length >30"> {{$ctrl.ingressData.metadata.name}} </md-tooltip> </div> <div flex="100"> <p>转发配置</p> </div> <div flex="100" style="background: #f9f9f9;margin: 0 30px 20px;padding: 30px;"> <table width="100%" class="table-column-5 ng-table ng-table-nopadding" style="margin-top:-20px;"> <thead> <tr> <th>URL</th> <th>{{"PATH"|I18N}}</th> <th>后端服务</th> <th>{{"PORT"|I18N}}</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.zfConfig"> <td> <input type="text" name="" ng-model="item.host" class="input-border" placeholder="foo.bar.com"> </td> <td><input type="text" name="" ng-model="item.path" class="input-border" placeholder="/testpath"></td> <td> <md-input-container> <label>服务名称</label> <md-select ng-model="item.serviceName" aria-label="service name" md-on-close="$ctrl.changeServicePorts(item.serviceName)"> <md-option ng-value="service.name" ng-repeat="service in $ctrl.serviceList"> {{::service.name}} </md-option> </md-select> </md-input-container> </td> <td> <md-input-container> <label>服务端口</label> <md-select ng-model="item.servicePort" aria-label="service port"> <md-option ng-value="service.port" ng-repeat="service in item.ports"> {{::service.port}} </md-option> </md-select> </md-input-container> </td> <td><a href="" ng-click="$ctrl.deleteZfConfig($index)"><i class="icon-trashcan"></i></a></td> </tr> </tbody> </table> <br> <a ng-click="$ctrl.addZfConfig()"><i class="icon-plus-line"></i>&nbsp;添加一行</a> </div> </div> </md-dialog-content> <md-dialog-actions layout="row"> <span flex></span> <md-button ng-click="$ctrl.cancel()"> 取消 </md-button> <md-button class="btn btn-success" ng-click="$ctrl.answer($ctrl.obj.data)"> 更新 </md-button> </md-dialog-actions> </form> </md-dialog>
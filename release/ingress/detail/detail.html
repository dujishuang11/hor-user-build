<div class="detail-tit" ng-if="$ctrl.editFlag" layout="flex"> <div> <span class="label label-Ingress">I</span> {{$ctrl.data.metadata.name | limitTo :40}} <span ng-if="$ctrl.data.metadata.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.data.metadata.name.length >40"> {{$ctrl.data.metadata.name}} </md-tooltip> </div> <span flex></span> <md-menu> <md-button aria-label="Open demo menu" class="md-button btn-default m-a-0" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-set f12"></i> {{"Actions"|I18N}} <i class="icon-arrow-down-sm f12"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.showUpdatePage()" aria-label="编辑"> <span md-menu-align-target>编辑负载均衡配置</span> </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.deleteService($event)" aria-label="删除"> <span md-menu-align-target>删除负载均衡</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <md-card> <md-tabs md-selected="$ctrl.selectedIndex"> <md-tab> <md-tab-label>{{"Overview"|I18N}}</md-tab-label> <md-tab-body> <div layout="flex" layout-wrap class="overviewDetail"> <div flex="40"> <label>{{"NAME"|I18N}}</label> {{$ctrl.data.metadata.name | limitTo :30}} <span ng-if="$ctrl.data.metadata.name.length >30">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.data.metadata.name.length >30"> {{$ctrl.data.metadata.name}} </md-tooltip> </div> <div flex="40"> <label>{{"TLS CERTIFICATE"|I18N}}</label> <div ng-repeat="item in $ctrl.data.spec.tls" ng-if="$ctrl.data.spec.tls"> <span class="label label-Secret">S</span> <span>{{item.secretName}}</span> </div> <div ng-if="!$ctrl.data.spec.tls">-</div> </div> <div flex="40"> <label>{{"CREATED AT"|I18N}}</label> <span> {{$ctrl.data.metadata.creationTimestamp | date:data}} <md-tooltip md-direction="bottom"> 创建于 {{$ctrl.data.metadata.creationTimestamp | date:data}} </md-tooltip> </span> </div> </div> <div layout="flex" layout-wrap class="overviewDetail"> <div flex="100"> <h4>转发规则</h4> </div> <div flex="100"> <md-table-container> <table width="100%" class="table-column-4 ng-table ng-table-nopadding"> <thead> <tr> <th>URL</th> <th>{{"PATH"|I18N}}</th> <th>后端服务</th> <th>{{"PORT"|I18N}}</th> </tr> </thead> <tbody ng-repeat="data in $ctrl.data.spec.rules"> <tr ng-repeat="item in data.http.paths"> <td>{{data.host}} <span ng-if="data.host==undefind">-</span> </td> <td>{{item.path}}</td> <td> <div ng-if="item.backend.serviceNameNormal == 1"> <span class="label label-Service">S</span> <a ng-href="{{$ctrl.getServiceHref(item.backend.serviceName,$ctrl.namespace)}}"> {{item.backend.serviceName}} </a> </div> <div ng-if="!item.backend.serviceNameNormal"> <span class="label label-Service">S</span> <a>{{item.backend.serviceName}} <md-tooltip md-direction="bottom"> Error message:services "{{item.backend.serviceName}}" not found </md-tooltip> </a> </div> </td> <td>{{item.backend.servicePort}}</td> </tr> </tbody> </table> </md-table-container> </div> </div> </md-tab-body> </md-tab> <md-tab> <md-tab-label>{{"YAML"|I18N}}</md-tab-label> <md-tab-body> <section class="yaml"> <div auto-height ui-ace="$ctrl.aceOption" ng-model="$ctrl.aceModel"></div> </section> <div class="yaml-btn"> <md-button ng-click="$ctrl.saveChange()" class="btn btn-success">{{"Save Change"|I18N}}</md-button> <md-button ng-click="$ctrl.reload()" class="btn btn-default">{{"Reload"|I18N}}</md-button> </div> </md-tab-body> </md-tab> </md-tabs> </md-card>
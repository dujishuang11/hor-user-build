 <div class="detail-tit" layout="flex"> <div> 新建负载均衡 <span ng-if="$ctrl.data.metadata.name.length >40">...</span> <md-tooltip md-direction="bottom" ng-if="$ctrl.data.metadata.name.length >40"> {{$ctrl.data.metadata.name}} </md-tooltip> </div> <span flex></span> </div> <md-card> <div layout="flex" layout-wrap class="overviewDetail"> <div flex="30"> <md-input-container class="md-icon-float md-block m-l-30"> <label>{{"NAME"|I18N}}</label> <input type="text" name="" class="input-border" ng-model="$ctrl.ingressTemplate.metadata.name" placeholder="test-ingress"> </md-input-container> </div> <div flex="100"> <h4>转发配置</h4> </div> <div flex="100" style="background: #f9f9f9;margin: 0 30px 20px;padding: 30px;"> <table width="100%" class="table-column-5 ng-table ng-table-nopadding" style="margin-top:-20px;"> <thead> <tr> <th>URL</th> <th>{{"PATH"|I18N}}</th> <th>后端服务</th> <th>{{"PORT"|I18N}}</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="item in $ctrl.zfConfig"> <td> <input type="text" name="" ng-model="item.host" class="input-border" placeholder="foo.bar.com"> </td> <td><input type="text" name="" ng-model="item.path" class="input-border" placeholder="/testpath"></td> <td> <md-input-container> <label>服务名称</label> <md-select ng-model="item.serviceName" aria-label="service name" md-on-close="$ctrl.changeServicePorts(item.serviceName)"> <md-option ng-value="service.name" ng-repeat="service in $ctrl.serviceList"> {{::service.name}} </md-option> </md-select> </md-input-container> </td> <td> <md-input-container> <label>服务端口</label> <md-select ng-model="item.servicePort" aria-label="service port"> <md-option ng-value="service.port" ng-repeat="service in item.ports"> {{::service.port}} </md-option> </md-select> </md-input-container> </td> <td><a href="" ng-click="$ctrl.deleteZfConfig($index)" style="color: #333;"><i class="icon-minus-circle fw"></i></a></td> </tr> </tbody> </table> <br> <a href="javascript:;" ng-click="$ctrl.addZfConfig()" class="add-more" style="color: #333;"> <i class="icon-plus-circle fw"></i><a>{{"Add More"|I18N}}</a></a> </div> </div> </md-card> <div class="yaml-btn text-center"> <button ng-click="$ctrl.showCreateDialog()" class="btn btn-success" style="margin-left:15px;">确定</button> <button ui-sref="ingress" class="btn btn-default">取消</button> </div>
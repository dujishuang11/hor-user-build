<md-dialog aria-label="Add a new repositories" layout="column" class="run"> <form name="$ctrl.addForm" id="addForm" novalidate> <md-toolbar class="_md _md-toolbar-transitions"> <div class="md-toolbar-tools"> <h2 class="">添加仓库</h2> </div> </md-toolbar> <md-dialog-content> <md-input-container class="md-block"> <div class="form-group" ng-class="{'has-error':$ctrl.addForm.name.$dirty && $ctrl.addForm.name.$invalid}"> <div class="col-sm-20"> <label for="name" class="col-sm-3 control-label col-sm-offset-1"><span style="color:red">* </span>仓库名称：</label> <div class="col-sm-7"> <input type="text" class="form-control" id="name" ng-model="$ctrl.name" name="name" required placeholder="请输入仓库名称(必填)" ng-maxlength="30" ng-pattern="/^[0-9a-zA-Z\-]*$/"> <div class="error-msg" ng-cloak ng-messages="$ctrl.addForm.name.$dirty && $ctrl.addForm.name.$error"> <div ng-message="required">请输入仓库名称</div> <div ng-message="maxlength">仓库名称不能超过30个字符</div> <div ng-message="pattern">请输入英文和数字</div> </div> </div> </div> </div> </md-input-container> <md-input-container class="md-block"> <div class="form-group" ng-class="{'has-error':$ctrl.addForm.cache.$dirty && $ctrl.addForm.cache.$invalid}"> <div class="col-sm-20"> <label for="cache" class="col-sm-3 control-label col-sm-offset-1"><span style="color:red">* </span>cache：</label> <div class="col-sm-7"> <input type="text" class="form-control" id="cache" ng-model="$ctrl.cache" name="cache" required placeholder="请输入cache路径(必填)" ng-maxlength="128" ng-pattern="/\/((?![/?]{2,})[a-zA-Z0-9\-/?])+$/"> <div class="error-msg" ng-cloak ng-messages="$ctrl.addForm.cache.$dirty && $ctrl.addForm.cache.$error"> <div ng-message="required">请输入cache路径</div> <div ng-message="maxlength">cache路径不能超过128个字符</div> <div ng-message="pattern">请输入有效unix/linux系统路径</div> </div> </div> </div> </div> </md-input-container> <md-input-container class="md-block"> <div class="form-group" ng-class="{'has-error':$ctrl.addForm.url.$dirty && $ctrl.addForm.url.$invalid}"> <div class="col-sm-20"> <label for="url" class="col-sm-3 control-label col-sm-offset-1"><span style="color:red">* </span>url：</label> <div class="col-sm-7"> <input type="text" class="form-control" id="url" ng-model="$ctrl.url" name="url" required placeholder="请输入url(必填)" ng-maxlength="128" ng-pattern="/(http|https):\/\/?((?![/?]{2,})[a-zA-Z0-9\-.:_/?])+$/"> <div class="error-msg" ng-cloak ng-messages="$ctrl.addForm.url.$dirty && $ctrl.addForm.url.$error"> <div ng-message="required">请输入url</div> <div ng-message="maxlength">url不能超过128个字符</div> <div ng-message="pattern">请输入有效的url链接</div> </div> </div> </div> </div> </md-input-container> <md-input-container class="md-block"> <div class="form-group" ng-class="{'has-error':$ctrl.addForm.caFile.$dirty && $ctrl.addForm.caFile.$invalid}"> <div class="col-sm-20"> <label for="caFile" class="col-sm-3 control-label col-sm-offset-1">caFile：</label> <div class="col-sm-7"> <input type="text" class="form-control" id="caFile" ng-model="$ctrl.caFile" name="caFile" ng-maxlength="128" placeholder="请输入caFile文件路径(非必填)" ng-pattern="/^[A-Za-z\d-.\/]+$/"> <div class="error-msg" ng-cloak ng-messages="$ctrl.addForm.caFile.$dirty && $ctrl.addForm.caFile.$error"> <div ng-message="maxlength">caFile文件路径不能超过128个字符</div> <div ng-message="pattern">请输入有效unix/linux系统路径</div> </div> </div> </div> </div> </md-input-container> <md-input-container class="md-block"> <div class="form-group" ng-class="{'has-error':$ctrl.addForm.certFile.$dirty && $ctrl.addForm.certFile.$invalid}"> <div class="col-sm-20"> <label for="certFile" class="col-sm-3 control-label col-sm-offset-1">certFile：</label> <div class="col-sm-7"> <input type="text" class="form-control" id="certFile" ng-model="$ctrl.certFile" name="certFile" ng-maxlength="128" placeholder="请输入certFile文件路径(非必填)" ng-pattern="/^[A-Za-z\d-.\/]+$/"> <div class="error-msg" ng-cloak ng-messages="$ctrl.addForm.certFile.$dirty && $ctrl.addForm.certFile.$error"> <div ng-message="maxlength">certFile文件路径不能超过128个字符</div> <div ng-message="pattern">请输入有效unix/linux系统路径</div> </div> </div> </div> </div> </md-input-container> <md-input-container class="md-block"> <div class="form-group" ng-class="{'has-error':$ctrl.addForm.keyFile.$dirty && $ctrl.addForm.keyFile.$invalid}"> <div class="col-sm-20"> <label for="keyFile" class="col-sm-3 control-label col-sm-offset-1">keyFile：</label> <div class="col-sm-7"> <input type="text" class="form-control" id="keyFile" ng-model="$ctrl.keyFile" name="keyFile" ng-maxlength="128" placeholder="请输入keyFile文件路径(非必填)" ng-pattern="/^[A-Za-z\d-.\/]+$/"> <div class="error-msg" ng-cloak ng-messages="$ctrl.addForm.keyFile.$dirty && $ctrl.addForm.keyFile.$error"> <div ng-message="maxlength">cache路径不能超过128个字符</div> <div ng-message="pattern">请输入有效unix/linux系统路径</div> </div> </div> </div> </div> </md-input-container> </md-dialog-content> <md-dialog-actions layout="row"> <md-button class="md-primary" ng-click="$ctrl.cancel()"> 取消 </md-button> <md-button class="md-primary" ng-click="$ctrl.addRepositories()" ng-disabled="$ctrl.addForm.$invalid"> 确定 </md-button> </md-dialog-actions> </form> </md-dialog>
<md-card class=""> <md-toolbar class="md-table-toolbar"> <md-toolbar> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>{{'Logs'|I18N}}</h2> </div> </md-toolbar> </md-toolbar> <md-table-container> <div layout="row" class="f14 m-t-md" style="margin: 30px 0"> <div flex="30"> <md-button class="btn btn-default"> <md-select aria-label="Selector for containers" ng-model="$ctrl.query.level" class="md-no-underline" md-on-close="$ctrl.level()"> <md-option ng-value="level" ng-repeat="level in $ctrl.levels"> {{level|I18N}} </md-option> </md-select> </md-button> &nbsp; <md-button class="btn btn-default"> <md-select aria-label="Selector for containers" ng-model="$ctrl.query.type" class="md-no-underline" md-on-close="$ctrl.type()"> <md-option ng-value="type" ng-repeat="type in $ctrl.types"> {{type|I18N}} </md-option> </md-select> </md-button> </div> <div flex></div> <div class="log-search"> <span class="input-close"> <input ng-model="$ctrl.query.keywords" type="text" class="input-text" placeholder="{{'Keyword'|I18N}}" style="width:185px;"><a ng-click="$ctrl.keywordCleaner()">&times;</a></span><md-button class="btn btn-default log-data" ng-click="$ctrl.dataToggle()"> <i class="icon-table"></i> </md-button><div class="mask" ng-show="$ctrl.visible" ng-click="$ctrl.visible = false"></div><div ng-show="$ctrl.visible" class="log-data-block"> <input class="input-text" id="min-date" ng-model="$ctrl.query.timestamp_gte" moment-picker="$ctrl.builder.minDate" max-date="$ctrl.builder.maxDate" format="YYYY-MM-DD HH:mm:ss" placeholder="{{'start time'|I18N}}"> <input class="input-text" id="max-date" ng-model="$ctrl.query.timestamp_lte" moment-picker="$ctrl.builder.maxDate" min-date="$ctrl.builder.minDate" format="YYYY-MM-DD HH:mm:ss" placeholder="{{'end time'|I18N}}"> <md-button class="btn btn-default log-data" ng-click=" $ctrl.reset()"> <i class="icon-refresh f12"></i> </md-button> </div><md-button class="btn btn-success log-data" ng-click="$ctrl.search()"><i class="icon-search"></i></md-button> </div> </div> <table ng-table="$ctrl.tableParams" class="log-table m-t-md log-message ng-table-nopadding"> <tr ng-repeat="item in $data | filter:$ctrl.searchText"> <td data-title="'ID'|I18N" style="width:15%;"> <div class="name-overflow"> {{item.id}} <md-tooltip md-direction="bottom"> {{item.id}} </md-tooltip> </div> </td> <td data-title="'HOST'|I18N" style="width: 10%"> <span ng-if="item._source.log_type=='pod'"> <a ng-href="{{$ctrl.getDetailHref(item._source.kubernetes.host)}}"> {{item._source.kubernetes.host}} </a> </span> <span ng-if="item._source.log_type=='host'"> <a ng-href="{{$ctrl.getDetailHref(item._source.host)}}"> {{item._source.host}} </a> </span> </td> <td data-title="'POD NAME'|I18N" style="width:15%"> <div class="name-overflow" ng-if="item._source.kubernetes.pod_name"> {{item._source.kubernetes.pod_name}} <md-tooltip md-direction="bottom"> {{item._source.kubernetes.pod_name}} </md-tooltip> </div> <div class="name-overflow" ng-if="!item._source.kubernetes.pod_name"> - </div> </td> <td data-title="'TYPE'|I18N" style="width:10%"> <div class="name-overflow" ng-if="item._source.log_type == 'host'"> <span class="label label-Deployment">H</span> {{item._source.log_type|I18N}} </div> <div class="name-overflow" ng-if="item._source.log_type == 'pod'"> <span class="label label-Pod">P</span> {{item._source.log_type|I18N}} </div> </td> <td data-title="'AGE'|I18N" style="width:15%"> <div class="name-overflow"> {{item._source.formatted_time }} <md-tooltip md-direction="bottom"> {{item._source.formatted_time }} </md-tooltip> </div> </td> <td data-title="'MESSAGE'|I18N" style="width:30%"> <div class="name-overflow" ng-if="item._source.log_type=='pod'"> <span> {{item._source.log}} </span> <md-tooltip md-direction="bottom"> {{item._source.log}} </md-tooltip> </div> <div class="name-overflow" ng-if="item._source.log_type=='host'"> <span> {{item._source.message}} </span> <md-tooltip md-direction="bottom"> {{item._source.message}} </md-tooltip> </div> </td> </tr> </table> <div ng-if="!$ctrl.logList.length" class="detail-con-null detail-con-nothing"> <hor-notingstate></hor-notingstate> </div> </md-table-container> <div class="grid-pagination" style="margin:0 10px;"> <md-table-pagination style="border-top:none;" md-limit="$ctrl.query.limit" md-page="$ctrl.query.page " md-total="{{$ctrl.total}}" md-on-paginate="$ctrl.getDesserts" md-page-select> </md-table-pagination> </div> </md-card>
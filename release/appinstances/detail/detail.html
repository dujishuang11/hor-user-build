<ol class="breadcrumb"> <li>当前位置</li> <li> <a ng-href="{{$ctrl.listReleases($ctrl.chartName)}}"> 部署实例 </a> </li> <li>{{$ctrl.releaseName}}基本信息</li> </ol> <div class="detail-tit"> <i class="icon-block-two"></i>{{$ctrl.releaseName}} </div> <md-card> <md-tabs> <md-tab> <md-tab-label>基本信息</md-tab-label> <md-tab-body> <div class="info-con"> <div class="col-xs-8"> <div class="detail-con panel-list"> <ol class=""> <dl> <dt>版本：</dt> <dd>{{$ctrl.version}}</dd> </dl> <dl> <dt>时间：</dt> <dd>{{$ctrl.first_deployed | date:'yyyy-MM-dd hh:mm:ss a'}}</dd> </dl> <dl> <dt>状态：</dt> <dd> <div ng-switch="$ctrl.statusCode"> <span ng-switch-when="0" class="text-warning"><i class="fa fa-ban fa-fw"></i>未知错误</span> <span ng-switch-when="1" class="text-success"><i class="fa fa-check-circle fa-fw"></i>正常</span> <span ng-switch-when="2"><i class="fa fa-circle-thin fa-fw"></i>已删除</span> <span ng-switch-when="3"><i class="fa fa-clock-o fa-fw"></i>已过时</span> <span ng-switch-when="4" class="text-danger"><i class="fa fa-times-circle fa-fw"></i>部署失败</span> <span ng-switch-when="5"><i class="fa-li fa fa-spinner fa-spin fa-fw"></i>正在删除</span> </div> </dd> </dl> <dl> <dt>NOTES:</dt> <dd>{{$ctrl.notes}}</dd> </dl> <dl> <dt>操作说明:</dt> <dd ng-if="$ctrl.help"> <pre>
                                <code class="lang-console" ng-bind-html="$ctrl.mdHelp"></code>
                            </pre> </dd> <dd ng-if="!$ctrl.help"> <span>无</span> </dd> </dl> </ol> </div> </div> <div class="col-xs-4"> <div class="release-img pull-right text-center"> <img src="img/failimg.png" ng-if="$ctrl.icon != undefined" data-ng-src="{{$ctrl.icon}}"> <img ng-if="$ctrl.icon == undefined" data-ng-src="img/failimg.png"> <div class="store-name"> <b>{{$ctrl.cname}}</b> </div> <div class="store-version"> v{{$ctrl.version}} </div> </div> </div> </div> </md-tab-body> </md-tab> <md-tab> <md-tab-label>相关连接</md-tab-label> <md-tab-body> <md-table-container ng-if="$ctrl.resourceDataArray&&$ctrl.resourceDataArray.length>0"> <table md-table multiple="multiple" ng-model="$ctrl.selected" md-progress="promise"> <thead md-head md-order="query.order"> <tr md-row> <th md-column><span>名称</span></th> <th md-column><span>类型</span></th> <th md-column><span>资源对象</span></th> <th md-column><span>操作</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.resourceDataArray"> <td md-cell> <a ng-if="item.showEditFlag===true" ng-href="{{$ctrl.getDetailHref(item, $ctrl.resourceNamespace)}}">{{item.Name}}</a> <div ng-if="item.showEditFlag===false">{{item.Name}}</div> </td> <td md-cell> {{item.Type}} </td> <td md-cell> <pre class="resourcePre" ng-if="item.itemStr"><code ng-bind-html="item.itemStr"></code></pre> </td> <td md-cell> <md-menu ng-if="item.showEditFlag===true"> <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)"> <md-icon md-menu-origin><i class="icon-more-horizontal"></i></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.updateService($ctrl.resourceNamespace, item.Type, item.Name)" aria-label="编辑"> <span md-menu-align-target>编辑</span> </md-button> </md-menu-item> <md-menu-item ng-if="item.couldListLogs"> <md-button ng-click="$ctrl.getPodList($ctrl.resourceNamespace, item.Type, item.Name)" aria-label="查看日志"> <span md-menu-align-target>Pods列表</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> <div ng-if="item.showEditFlag===false"> <p>无操作</p> </div> </td> </tr> </tbody> </table> </md-table-container> <div ng-if="!$ctrl.resourceDataArray||$ctrl.resourceDataArray.length==0"> <hor-notingstate></hor-notingstate> </div> </md-tab-body> </md-tab> <md-tab> <md-tab-label>历史记录</md-tab-label> <md-tab-body> <div ng-if="!($ctrl.historyReleasesData.length>0)"> <hor-notingstate></hor-notingstate> </div> <md-table-container ng-if="($ctrl.historyReleasesData.length>0)"> <table md-table multiple="multiple" ng-model="$ctrl.selected"> <thead md-head md-order="query.order"> <tr md-row> <th md-column><span>版本</span></th> <th md-column><span>更新时间</span></th> <th md-column><span>状态</span></th> <th md-column><span>应用模板(CHART)</span></th> <th md-column><span>描述</span></th> </tr> </thead> <tbody md-body> <tr md-row ng-repeat="item in $ctrl.historyReleasesData"> <td md-cell>{{item.version}}</td> <td md-cell>{{item.info.last_deployed.seconds*1000 | date:'yyyy-MM-dd hh:mm:ss a'}}</td> <td md-cell ng-switch="item.info.status.code"> <span ng-switch-when="0" class="text-warning"><i class="fa fa-ban fa-fw"></i>未知错误</span> <span ng-switch-when="1" class="text-success"><i class="fa fa-check-circle fa-fw"></i>正常</span> <span ng-switch-when="2"><i class="fa fa-circle-thin fa-fw"></i>已删除</span> <span ng-switch-when="3"><i class="fa fa-clock-o fa-fw"></i>已过时</span> <span ng-switch-when="4" class="text-danger"><i class="fa fa-times-circle fa-fw"></i>部署失败</span> <span ng-switch-when="5"><i class="fa-li fa fa-spinner fa-spin fa-fw"></i>正在删除</span> </td> <td md-cell>{{item.chart.metadata.name}}</td> <td md-cell>{{item.info.Description}}</td> </tr> </tbody> </table> </md-table-container> </md-tab-body> </md-tab> </md-tabs> </md-card>
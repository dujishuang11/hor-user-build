<md-card> <md-toolbar class="md-table-toolbar"> <md-toolbar> <div class="md-toolbar-tools md-toobar-tools-default"> <h2>{{"Traefiks"|I18N}}</h2> </div> </md-toolbar> </md-toolbar> <md-tabs class="traefik-tabs" md-selected="$ctrl.selectedIndex"> <md-tab ng-click="$ctrl.changeToProviders()"> <md-tab-label>{{"Providers"|I18N}}</md-tab-label> <md-tab-body> <md-card> <md-table-container class="m-t-md"> <div layout="row" class="m-t-md"> <div flex="30" style="min-width:390px;"> <div class="input-search"> <i class="icon-search"></i> <input type="text" placeholder="{{'Filter by host name'|I18N}}" ng-model="$ctrl.selectedTraefikName" ng-change="$ctrl.applyGlobalFilter($ctrl.selectedTraefikName|lowercase)" set-focus> </div> <div class="build-list"> <div ng-repeat="traefik in $ctrl.k8sTraefikProviders| filter:{name:$ctrl.selectedTraefikName} as localDics" ng-if="$ctrl.k8sTraefikProviders.length!=0" ng-click="$ctrl.showTraefikDetail(traefik,$index)" ng-class="{itemClick:$index==$ctrl.itemClick}" ng-class-odd="'odd'" ng-class-even="'even'"> <span>{{traefik.name|limitTo:23}}</span> <span ng-if="traefik.name.length>23">...</span> <md-tooltip md-direction="bottom" ng-if="traefik.name.length >23"> {{traefik.name}} </md-tooltip> </div> </div> </div> <div flex="70"> <h3>Kubernetes <span class="full_name f14">{{$ctrl.traefikName}}</span></h3> <div ng-if="$ctrl.value.routes.length!=0"> <p class="m-t-md">{{"The routing rules defined in ingress include the host name and path, the corresponding back end service and the port. In addition to this, the methods and attributes defined in entryPoints are also included"|I18N}}</p> <table ng-table="$ctrl.tableParamsRule" class="table table-column-3 m-t-md ng-table-nopadding properties"> <tr ng-repeat="item in $data"> <td data-title="'Route'|I18N">{{item.name}}</td> <td data-title="'Rule'|I18N">{{item.rule}}</td> <td rowspan="2" data-title="'PROPERTIES'|I18N" class="labels-block" style="overflow: visible;"> <div><span class="label-default"><a>{{$ctrl.traefikEntryPoints}}</a></span> <div class="labels-icon">...</div> </div> <div class="labels-block-hover"> <span class="label-default"><a class="m-a-0">{{$ctrl.traefikEntryPoints}}</a></span> <span class="label-default"><a class="m-a-0">{{"Backend"|I18N}}:{{$ctrl.backend}}</a></span> <span class="label-default" ng-if="$ctrl.passHostHeader"><a class="m-a-0">{{"passHostHeader"|I18N}}</a></span> </div> </td> </tr> </table> </div> <div class="traefik-server-table"> <p class="m-t-md">{{"The backend service of the route and the load balancer of the service ( traefik.backend.loadbalancer.method=drr: override the default wrr load balancer algorithm,traefik.backend.loadbalancer.sticky=true: enable backend sticky sessions ) , the weight ratio of each service"|I18N}}</p> <table ng-table="$ctrl.tableParamsServer" class="table-column-4 m-t-md ng-table-nopadding"> <tr ng-repeat="item in $data"> <td data-title="'Server'|I18N"> <div class="name-overflow"> <a class="pointer" ng-click="$ctrl.getPodDetailHref(item.name)"> <span class="label label-Pod">P</span>{{item.name}} </a> <md-tooltip md-direction="bottom"> {{item.name}} </md-tooltip> </div> </td> <td data-title="'URL'|I18N"> <div class="name-overflow"> {{item.url}} <md-tooltip md-direction="bottom"> {{item.url}} </md-tooltip> </div> </td> <td data-title="'WEIGHT'|I18N">{{item.weight}}</td> <td data-title="'PROPERTIES'|I18N" class="labels-block" style="overflow: visible;"> <div><span class="label-default"><a>Load {{"Balancer"|I18N}}:{{$ctrl.loadBalancer}}</a></span></div> </td> </tr> </table> </div> <div ng-if="$ctrl.value.routes.length==0"> <hor-notingstate></hor-notingstate> </div> </div> </div> </md-table-container> </md-card> </md-tab-body> </md-tab> <md-tab ng-click="$ctrl.drawChart()"> <md-tab-label>{{"Health"|I18N}}</md-tab-label> <md-tab-body> <br> <md-card-content> <div class="traefik-health"> <div layout="flex" class="floor-1"> <div flex="60"> <div class="card" id="card1"> <h4>{{"Average response time"|I18N}}</h4> <div id="averageResponseTimeDataDiv"> <hor-chart data="$ctrl.averageResponseTimeData" config="$ctrl.averageResponseTimeConfig"></hor-chart> </div> </div> </div> <div flex="40" layout="column"> <div flex="25"> <p>{{"Total response time"|I18N}}</p> <span>{{$ctrl.total_response_time}}</span> <span class="health-unit">s</span> </div> <div flex="25"> <p>{{"PID"|I18N}}</p> <span>{{$ctrl.pid}}</span> </div> <div flex="25"> <p>{{"Uptime"|I18N}}</p> <span ng-if="$ctrl.formatUptime($ctrl.uptime).hour>0">{{$ctrl.formatUptime($ctrl.uptime).hour}}</span> <span class="health-unit" ng-if="$ctrl.formatUptime($ctrl.uptime).hour>0">h</span> <span>{{$ctrl.formatUptime($ctrl.uptime).minute}}</span> <span class="health-unit">m</span> <span>{{$ctrl.formatUptime($ctrl.uptime).second}}.{{$ctrl.formatUptime($ctrl.uptime).decimal}}</span> <span class="health-unit">s</span> </div> </div> </div> <div layout="flex" class="floor-1"> <div flex="60"> <div class="card" id="card2"> <h4>{{"Total Status Code Count"|I18N}}</h4> <div id="totalStatusCodeCountDataDiv"> <hor-chart data="$ctrl.totalStatusCodeCountData" config="$ctrl.totalStatusCodeCountConfig" ng-show="$ctrl.totalStatusCodeCountDataX.length>0"></hor-chart> <p class="chart-no-data" ng-show="$ctrl.totalStatusCodeCountDataX.length==0">{{"No Data Available"|I18N}}</p> </div> </div> </div> <div flex="40" layout="column"> <div flex="30"> <p>{{"Total count"|I18N}}</p> <span>{{$ctrl.total_count}}</span> </div> <div flex="30"> <p>{{"Count"|I18N}}</p> <span>{{$ctrl.count}}</span> </div> </div> </div> </div> </md-card-content> </md-tab-body> </md-tab> </md-tabs> </md-card>